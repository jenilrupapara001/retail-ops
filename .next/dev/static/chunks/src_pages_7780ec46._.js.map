{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport KPICard from '../components/KPICard';\r\nimport DataTable from '../components/DataTable';\r\nimport api, { seedApi, asinApi, sellerApi } from '../services/api';\r\n\r\nconst Dashboard = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [seeding, setSeeding] = useState(false);\r\n  const [dateRange, setDateRange] = useState('last30');\r\n  const [refreshInterval, setRefreshInterval] = useState(0);\r\n  const [data, setData] = useState({\r\n    kpis: [],\r\n    revenueData: [],\r\n    categoryData: [],\r\n    topProducts: [],\r\n    monthlyTrend: [],\r\n    sellerDistribution: [],\r\n    userStats: null,\r\n    teamStats: null,\r\n  });\r\n  const [error, setError] = useState(null);\r\n\r\n  // Single collapsible state for all dashboard content\r\n  const [showDashboard, setShowDashboard] = useState(true);\r\n  const [showPerformance, setShowPerformance] = useState(true);\r\n  const [showTopProducts, setShowTopProducts] = useState(true);\r\n\r\n  // Load dashboard data from database\r\n  const loadDashboardData = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const periodMap = {\r\n        'last7': '7d',\r\n        'last30': '30d',\r\n        'last90': '90d',\r\n        'thisYear': '1y'\r\n      };\r\n      const response = await api.dashboardApi.getSummary(periodMap[dateRange] || '30d');\r\n      const { kpi, revenue, units, category, tableData, alerts, stats, userStats, teamStats } = response;\r\n\r\n      // Map backend response to frontend state\r\n      setData({\r\n        kpis: kpi || [],\r\n        revenueData: revenue?.length > 0 ? revenue[0].data.map((val, idx) => ({\r\n          month: revenue[0].data[idx]?.date || `Day ${idx + 1}`, // quick fix for chart format if needed\r\n          revenue: val,\r\n          units: units ? units[0].data[idx] : 0\r\n        })) : [], // Chart expects array of objects\r\n        categoryData: category || [],\r\n        topProducts: tableData?.map((p, idx) => ({ ...p, rank: idx + 1, name: p.title })) || [],\r\n        monthlyTrend: [], // Backend doesn't provide this yet, leave empty or hide\r\n        sellerDistribution: [], // Backend doesn't provide this yet\r\n        userStats,\r\n        teamStats,\r\n      });\r\n\r\n    } catch (err) {\r\n      console.error('Failed to load dashboard data:', err);\r\n      // Fallback or Error State\r\n      setError('Failed to load dashboard data. Please check your connection.');\r\n    }\r\n    setLoading(false);\r\n  }, [dateRange]);\r\n\r\n\r\n  useEffect(() => {\r\n    loadDashboardData();\r\n  }, [loadDashboardData]);\r\n\r\n  // Auto-refresh\r\n  useEffect(() => {\r\n    if (refreshInterval > 0) {\r\n      const interval = setInterval(loadDashboardData, refreshInterval * 1000);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [refreshInterval, loadDashboardData]);\r\n\r\n  // Seed demo data\r\n  const handleSeedDemoData = async () => {\r\n    setSeeding(true);\r\n    setError(null);\r\n    try {\r\n      const result = await seedApi.seedAll();\r\n      if (result.success) {\r\n        alert(`Demo data seeded successfully!\\n\\nSummary:\\n- Users: ${result.data.users}\\n- Roles: ${result.data.roles}\\n- Sellers: ${result.data.sellers}\\n- ASINs: ${result.data.asins}\\n- Total Revenue: ₹${result.data.summary.totalRevenue.toLocaleString()}`);\r\n        loadDashboardData();\r\n      }\r\n    } catch (err) {\r\n      console.error('Seeding failed:', err);\r\n      setError('Failed to seed demo data: ' + (err.message || 'Please check if the backend server is running.'));\r\n    }\r\n    setSeeding(false);\r\n  };\r\n\r\n  const handleDateRangeChange = (range) => {\r\n    setDateRange(range);\r\n    loadDashboardData();\r\n  };\r\n\r\n  const handleRefresh = () => {\r\n    loadDashboardData();\r\n  };\r\n\r\n  // Collapsible section component\r\n  const CollapsibleSection = ({ title, icon, isOpen, onToggle, children, badge }) => (\r\n    <div className=\"card mb-4 overflow-hidden border-0 shadow-sm\" style={{ borderRadius: '16px' }}>\r\n      <div\r\n        className=\"card-header bg-white py-3 d-flex justify-content-between align-items-center cursor-pointer\"\r\n        onClick={onToggle}\r\n        style={{ cursor: 'pointer', borderBottom: isOpen ? '1px solid var(--border-color)' : 'none' }}\r\n      >\r\n        <h5 className=\"card-title mb-0 d-flex align-items-center gap-2\">\r\n          <div className=\"icon-box-sm bg-primary-light bg-opacity-10 text-primary\">\r\n            <i className={`${icon}`}></i>\r\n          </div>\r\n          {title}\r\n          {badge !== undefined && <span className=\"badge bg-primary-light bg-opacity-10 text-primary rounded-pill ms-2\">{badge}</span>}\r\n        </h5>\r\n        <button className=\"btn btn-sm btn-light rounded-circle\">\r\n          <i className={`bi ${isOpen ? 'bi-chevron-up' : 'bi-chevron-down'}`}></i>\r\n        </button>\r\n      </div>\r\n      {isOpen && <div className=\"card-body bg-white p-4\">{children}</div>}\r\n    </div>\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"dashboard-container p-4\">\r\n        <header className=\"main-header mb-5\">\r\n          <div className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '400px' }}>\r\n            <div className=\"loading-spinner\"></div>\r\n          </div>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-container p-4\">\r\n      {/* Premium Header */}\r\n      <header className=\"main-header mb-5\">\r\n        <div className=\"d-flex justify-content-between align-items-center flex-wrap gap-4\">\r\n          <div>\r\n            <h1 className=\"fw-800 mb-1\" style={{ fontSize: '2.25rem', letterSpacing: '-0.04em' }}>\r\n              Commerce<span className=\"text-primary\">X</span> Hub\r\n            </h1>\r\n            <p className=\"text-muted mb-0\">Unified strategic performance & marketplace insights</p>\r\n          </div>\r\n\r\n          <div className=\"d-flex align-items-center gap-3 flex-wrap\">\r\n            {/* Glass Range Selector */}\r\n            <div className=\"glass-card p-1 d-flex gap-1\" style={{ borderRadius: '12px' }}>\r\n              {['last7', 'last30', 'last90', 'thisYear'].map((range) => (\r\n                <button\r\n                  key={range}\r\n                  className={`btn btn-sm px-3 rounded-3 border-0 transition-base ${dateRange === range ? 'btn-primary shadow-sm' : 'btn-light bg-transparent'}`}\r\n                  onClick={() => handleDateRangeChange(range)}\r\n                >\r\n                  {range === 'last7' ? '7D' : range === 'last30' ? '30D' : range === 'last90' ? '90D' : 'YTD'}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Refresh Controls */}\r\n            <div className=\"d-flex align-items-center gap-2\">\r\n              <select\r\n                className=\"form-select glass-card border-0 py-1\"\r\n                value={refreshInterval}\r\n                onChange={(e) => setRefreshInterval(Number(e.target.value))}\r\n                style={{ width: 'auto', fontSize: '0.875rem' }}\r\n              >\r\n                <option value=\"0\">Manual</option>\r\n                <option value=\"30\">30s refresh</option>\r\n                <option value=\"60\">1m refresh</option>\r\n              </select>\r\n\r\n              <button onClick={handleRefresh} className=\"btn btn-icon btn-light rounded-circle shadow-sm\">\r\n                <i className={`bi bi-arrow-clockwise ${loading ? 'spin' : ''}`}></i>\r\n              </button>\r\n            </div>\r\n\r\n            <button\r\n              onClick={handleSeedDemoData}\r\n              className=\"btn btn-primary rounded-pill px-4 shadow-sm\"\r\n              disabled={seeding}\r\n            >\r\n              {seeding ? 'Seeding...' : 'Populate Demo'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {error && (\r\n        <div className=\"alert alert-danger glass-card border-start border-4 border-danger mb-4 fade show mx-3\">\r\n          <div className=\"d-flex align-items-center gap-3\">\r\n            <i className=\"bi bi-exclamation-octagon-fill fs-4\"></i>\r\n            <div>{error}</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"page-content\">\r\n        {/* Performance Center Section */}\r\n        <CollapsibleSection\r\n          title=\"Performance Overview\"\r\n          icon=\"bi bi-person-check\"\r\n          isOpen={showPerformance}\r\n          onToggle={() => setShowPerformance(!showPerformance)}\r\n        >\r\n          {data.userStats && (\r\n            <div className=\"mb-5\">\r\n              <div className=\"d-flex justify-content-between align-items-end mb-4\">\r\n                <div>\r\n                  <h6 className=\"text-uppercase text-muted fw-700 mb-1\" style={{ fontSize: '0.75rem', letterSpacing: '0.1em' }}>My Operations</h6>\r\n                  <h3 className=\"fw-700 mb-0\">Action Items</h3>\r\n                </div>\r\n                <div className=\"text-end\">\r\n                  <div className=\"text-muted small\">Total Assigned</div>\r\n                  <div className=\"h4 fw-700 mb-0\">{data.userStats.total}</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row g-4\">\r\n                <div className=\"col-lg-3 col-md-6\">\r\n                  <KPICard title=\"Pending\" value={data.userStats.pending} icon=\"bi-clock-history\" trend={0} trendType=\"neutral\" />\r\n                </div>\r\n                <div className=\"col-lg-3 col-md-6\">\r\n                  <KPICard title=\"In Progress\" value={data.userStats.inProgress} icon=\"bi-play-circle\" trend={0} trendType=\"positive\" />\r\n                </div>\r\n                <div className=\"col-lg-3 col-md-6\">\r\n                  <KPICard title=\"Submitted\" value={data.userStats.review} icon=\"bi-chat-dots\" trend={0} trendType=\"neutral\" />\r\n                </div>\r\n                <div className=\"col-lg-3 col-md-6\">\r\n                  <KPICard title=\"Completed\" value={data.userStats.completed} icon=\"bi-check2-all\" trend={0} trendType=\"positive\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {data.teamStats && (\r\n            <div>\r\n              <div className=\"d-flex justify-content-between align-items-end mb-4 pt-4 border-top\">\r\n                <div>\r\n                  <h6 className=\"text-uppercase text-muted fw-700 mb-1\" style={{ fontSize: '0.75rem', letterSpacing: '0.1em' }}>Team Health</h6>\r\n                  <h3 className=\"fw-700 mb-0\">Strategic Throughput</h3>\r\n                </div>\r\n                <div className=\"text-end\">\r\n                  <div className=\"text-muted small\">Total Organizational Tasks</div>\r\n                  <div className=\"h4 fw-700 mb-0\">{data.teamStats.total}</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row g-4\">\r\n                <div className=\"col-lg-3 col-md-6\">\r\n                  <KPICard title=\"Org Pending\" value={data.teamStats.pending} icon=\"bi-people\" trend={0} trendType=\"neutral\" />\r\n                </div>\r\n                <div className=\"col-lg-3 col-md-6\">\r\n                  <KPICard title=\"Currently Working\" value={data.teamStats.inProgress} icon=\"bi-lightning-charge\" trend={0} trendType=\"positive\" />\r\n                </div>\r\n                <div className=\"col-lg-3 col-md-6\">\r\n                  <KPICard title=\"Awaiting Review\" value={data.teamStats.review} icon=\"bi-shield-check\" trend={0} trendType=\"neutral\" />\r\n                </div>\r\n                <div className=\"col-lg-3 col-md-6\">\r\n                  <KPICard title=\"Total Success\" value={data.teamStats.completed} icon=\"bi-award\" trend={0} trendType=\"positive\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CollapsibleSection>\r\n\r\n        {/* Dashbaord Overview Section */}\r\n        <CollapsibleSection\r\n          title=\"Marketplace Overview\"\r\n          icon=\"bi bi-graph-up\"\r\n          isOpen={showDashboard}\r\n          onToggle={() => setShowDashboard(!showDashboard)}\r\n        >\r\n          {/* KPI Cards */}\r\n          <div className=\"kpi-grid mb-4\">\r\n            {data.kpis.map(kpi => (\r\n              <KPICard key={kpi.id} title={kpi.title} value={kpi.value} icon={kpi.icon} trend={kpi.trend} trendType={kpi.trendType} />\r\n            ))}\r\n          </div>\r\n\r\n          {/* Performance Summary Cards */}\r\n          <div className=\"row mb-4\">\r\n            <div className=\"col-lg-4\">\r\n              <div className=\"card h-100 border-0 bg-light bg-opacity-50\" style={{ borderRadius: '12px' }}>\r\n                <div className=\"card-header bg-transparent border-0 pt-4 px-4\">\r\n                  <h5 className=\"card-title mb-0\">Revenue Summary</h5>\r\n                </div>\r\n                <div className=\"card-body p-4\">\r\n                  <div className=\"d-flex align-items-center justify-content-between mb-3 p-3 bg-white rounded-3 shadow-sm\">\r\n                    <span className=\"text-muted\">Total Valuation</span>\r\n                    <span className=\"fw-700\">₹{Math.round(data.revenueData.reduce((sum, d) => sum + (d.revenue || 0), 0)).toLocaleString()}</span>\r\n                  </div>\r\n                  <div className=\"d-flex align-items-center justify-content-between mb-3 p-3 bg-white rounded-3 shadow-sm\">\r\n                    <span className=\"text-muted\">Avg Category Value</span>\r\n                    <span className=\"fw-700\">₹{data.categoryData.length ? Math.round(data.categoryData.reduce((sum, d) => sum + (d.data?.[0] || 0), 0) / data.categoryData.length).toLocaleString() : 0}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-4\">\r\n              <div className=\"card h-100 border-0 bg-light bg-opacity-50\" style={{ borderRadius: '12px' }}>\r\n                <div className=\"card-header bg-transparent border-0 pt-4 px-4\">\r\n                  <h5 className=\"card-title mb-0\">Top Categories</h5>\r\n                </div>\r\n                <div className=\"card-body p-4\">\r\n                  {data.categoryData.slice(0, 3).map((cat, idx) => (\r\n                    <div key={idx} className=\"d-flex align-items-center justify-content-between mb-2 p-2 px-3 bg-white rounded-3 shadow-sm\">\r\n                      <span className=\"text-muted small\">{cat.name}</span>\r\n                      <span className=\"fw-600\">₹{cat.data[0].toLocaleString()}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-4\">\r\n              <div className=\"card h-100 border-0 bg-light bg-opacity-50\" style={{ borderRadius: '12px' }}>\r\n                <div className=\"card-header bg-transparent border-0 pt-4 px-4\">\r\n                  <h5 className=\"card-title mb-0\">Market Distribution</h5>\r\n                </div>\r\n                <div className=\"card-body p-4\">\r\n                  <div className=\"text-center py-3\">\r\n                    <i className=\"bi bi-pie-chart text-muted display-4\"></i>\r\n                    <p className=\"small text-muted mt-2\">Distribution by Brand Portfolio</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </CollapsibleSection>\r\n\r\n        {/* Collapsible Top Products Table */}\r\n        <CollapsibleSection\r\n          title=\"Top Performing Products\"\r\n          icon=\"bi bi-trophy\"\r\n          isOpen={showTopProducts}\r\n          onToggle={() => setShowTopProducts(!showTopProducts)}\r\n          badge={data.topProducts.length}\r\n        >\r\n          <div className=\"card\">\r\n            <div className=\"card-body p-0\">\r\n              {data.topProducts.length > 0 ? (\r\n                <DataTable\r\n                  data={data.topProducts}\r\n                  columns={['rank', 'name', 'asin', 'revenue', 'units', 'growth']}\r\n                  searchable={true}\r\n                  sortable={true}\r\n                  pagination={true}\r\n                  pageSize={10}\r\n                />\r\n              ) : (\r\n                <div className=\"p-4 text-center\">\r\n                  <p className=\"text-muted\">No product data available</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </CollapsibleSection>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1112, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/SkuReport.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport Filters from '../components/Filters';\nimport DataTable from '../components/DataTable';\nimport { asinApi } from '../services/api';\n\nconst SkuReport = () => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filters, setFilters] = useState({\n    dateRange: 'last30',\n    category: 'all',\n    searchTerm: ''\n  });\n\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      try {\n        // Fetch ASINs from database\n        const response = await asinApi.getAll({ limit: 100 });\n        const asins = response.asins || [];\n        \n        // Transform ASIN data to SKU report format\n        const skuData = asins.map((asin, idx) => ({\n          sku: `SKU-${String(idx + 1).padStart(3, '0')}`,\n          asin: asin.asinCode,\n          title: asin.title || 'Unknown Product',\n          category: asin.brand || 'Uncategorized',\n          revenue: Math.round(asin.currentPrice * (Math.floor(Math.random() * 100) + 50) + 1000),\n          units: Math.floor(Math.random() * 200) + 50,\n          aov: asin.currentPrice.toFixed(2),\n          acos: (Math.random() * 20 + 15).toFixed(1),\n          roas: (Math.random() * 3 + 2).toFixed(2),\n          sessions: Math.floor(Math.random() * 3000) + 1000,\n          conversion: (Math.random() * 8 + 2).toFixed(1),\n        }));\n        \n        setData(skuData);\n      } catch (error) {\n        console.error('Failed to load SKU data:', error);\n        setData([]);\n      }\n      setLoading(false);\n    };\n    loadData();\n  }, []);\n\n  const filteredData = useMemo(() => {\n    return data.filter(item => {\n      const matchesCategory = filters.category === 'all' || item.category === filters.category;\n      const matchesSearch = filters.searchTerm === '' || \n        item.sku.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||\n        item.asin.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||\n        item.title.toLowerCase().includes(filters.searchTerm.toLowerCase());\n      return matchesCategory && matchesSearch;\n    });\n  }, [data, filters]);\n\n  const handleFilterChange = (newFilters) => {\n    setFilters(prev => ({ ...prev, ...newFilters }));\n  };\n\n  if (loading) {\n    return (\n      <>\n        <header className=\"main-header\">\n          <h1 className=\"page-title\">\n            <i className=\"bi bi-box-seam\"></i>\n            SKU Report\n          </h1>\n        </header>\n        <div className=\"page-content\">\n          <div className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '400px' }}>\n            <div className=\"loading-spinner\"></div>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <header className=\"main-header\">\n        <h1 className=\"page-title\">\n          <i className=\"bi bi-box-seam\"></i>\n          SKU Report\n        </h1>\n      </header>\n      \n      <div className=\"page-content\">\n        <Filters \n          filters={filters}\n          onFilterChange={handleFilterChange}\n          showDateRange={true}\n          showCategory={true}\n          showSearch={true}\n        />\n\n        <DataTable \n          title=\"SKU Performance Details\"\n          data={filteredData}\n          columns={['sku', 'asin', 'title', 'category', 'revenue', 'units', 'aov', 'acos', 'roas', 'sessions', 'conversion']}\n          searchable={true}\n          sortable={true}\n          pagination={true}\n          pageSize={10}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default SkuReport;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1334, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/ParentAsinReport.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport Filters from '../components/Filters';\r\nimport DataTable from '../components/DataTable';\r\nimport { asinApi, sellerApi } from '../services/api';\r\n\r\nconst ParentAsinReport = () => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState({\r\n    dateRange: 'last30',\r\n    searchTerm: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const asinResponse = await asinApi.getAll({ limit: 200 });\r\n        const sellerResponse = await sellerApi.getAll({ limit: 50 });\r\n        \r\n        const asins = asinResponse.asins || [];\r\n        const sellers = sellerResponse.sellers || [];\r\n        \r\n        // Group ASINs by brand (simulating parent ASIN groups)\r\n        const brandGroups = {};\r\n        asins.forEach(asin => {\r\n          const brand = asin.brand || 'Unknown';\r\n          if (!brandGroups[brand]) {\r\n            brandGroups[brand] = {\r\n              parentAsin: `PARENT-${brand.substring(0, 3).toUpperCase()}-001`,\r\n              title: `${brand} Collection`,\r\n              childCount: 0,\r\n              totalRevenue: 0,\r\n              totalUnits: 0,\r\n              avgPrice: 0,\r\n              acos: 0,\r\n              roas: 0,\r\n              rating: 0,\r\n              reviews: 0,\r\n            };\r\n          }\r\n          const group = brandGroups[brand];\r\n          group.childCount++;\r\n          group.totalRevenue += Math.round(asin.currentPrice * (Math.floor(Math.random() * 100) + 50));\r\n          group.totalUnits += Math.floor(Math.random() * 100) + 20;\r\n          group.avgPrice = (group.totalRevenue / group.totalUnits).toFixed(2);\r\n          group.acos = (Math.random() * 15 + 15).toFixed(1);\r\n          group.roas = (Math.random() * 3 + 2).toFixed(2);\r\n          group.rating = (Math.random() * 0.5 + 4).toFixed(1);\r\n          group.reviews += Math.floor(Math.random() * 500) + 100;\r\n        });\r\n        \r\n        setData(Object.values(brandGroups));\r\n      } catch (error) {\r\n        console.error('Failed to load parent ASIN data:', error);\r\n        setData([]);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    loadData();\r\n  }, []);\r\n\r\n  const filteredData = useMemo(() => {\r\n    return data.filter(item => {\r\n      const matchesSearch = filters.searchTerm === '' || \r\n        item.parentAsin.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||\r\n        item.title.toLowerCase().includes(filters.searchTerm.toLowerCase());\r\n      return matchesSearch;\r\n    });\r\n  }, [data, filters]);\r\n\r\n  const handleFilterChange = (newFilters) => {\r\n    setFilters(prev => ({ ...prev, ...newFilters }));\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <>\r\n        <header className=\"main-header\">\r\n          <h1 className=\"page-title\">\r\n            <i className=\"bi bi-collection\"></i>\r\n            Parent ASIN Report\r\n          </h1>\r\n        </header>\r\n        <div className=\"page-content\">\r\n          <div className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '400px' }}>\r\n            <div className=\"loading-spinner\"></div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header className=\"main-header\">\r\n        <h1 className=\"page-title\">\r\n          <i className=\"bi bi-collection\"></i>\r\n          Parent ASIN Report\r\n        </h1>\r\n      </header>\r\n      \r\n      <div className=\"page-content\">\r\n        <Filters \r\n          filters={filters}\r\n          onFilterChange={handleFilterChange}\r\n          showDateRange={true}\r\n          showSearch={true}\r\n        />\r\n\r\n        <DataTable \r\n          title=\"Parent ASIN Performance\"\r\n          data={filteredData}\r\n          columns={['parentAsin', 'title', 'childCount', 'totalRevenue', 'totalUnits', 'avgPrice', 'acos', 'roas', 'rating', 'reviews']}\r\n          searchable={true}\r\n          sortable={true}\r\n          pagination={true}\r\n          pageSize={10}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ParentAsinReport;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1569, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/MonthWiseReport.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport Filters from '../components/Filters';\r\nimport DataTable from '../components/DataTable';\r\nimport { asinApi, sellerApi } from '../services/api';\r\n\r\nconst MonthWiseReport = () => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState({ dateRange: 'last12', searchTerm: '' });\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const asinResponse = await asinApi.getAll({ limit: 500 });\r\n        const sellerResponse = await sellerApi.getAll({ limit: 100 });\r\n        \r\n        const asins = asinResponse.asins || [];\r\n        const sellers = sellerResponse.sellers || [];\r\n        \r\n        // Generate 12 months of data based on actual database counts\r\n        const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n        const currentYear = new Date().getFullYear();\r\n        \r\n        const totalAsins = asins.length || 10;\r\n        const totalSellers = sellers.length || 1;\r\n        const avgPrice = asins.length > 0 \r\n          ? asins.reduce((sum, a) => sum + (a.currentPrice || 50), 0) / asins.length \r\n          : 50;\r\n        \r\n        const monthData = monthNames.map((month, idx) => {\r\n          const monthsAgo = 11 - idx;\r\n          const baseRevenue = totalAsins * avgPrice * 25 * (1 + (11 - monthsAgo) * 0.05);\r\n          const revenue = Math.round(baseRevenue + (Math.random() - 0.5) * baseRevenue * 0.2);\r\n          const units = Math.round(revenue / avgPrice);\r\n          \r\n          return {\r\n            month: `${month} ${currentYear}`,\r\n            revenue,\r\n            units,\r\n            aov: avgPrice.toFixed(2),\r\n            acos: (Math.random() * 10 + 18).toFixed(1),\r\n            roas: (Math.random() * 1 + 3.5).toFixed(2),\r\n            sessions: Math.round(units * 200 + Math.random() * 5000),\r\n            conversion: (Math.random() * 2 + 4).toFixed(1),\r\n          };\r\n        });\r\n        \r\n        setData(monthData.reverse());\r\n      } catch (error) {\r\n        console.error('Failed to load monthly data:', error);\r\n        setData([]);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    loadData();\r\n  }, []);\r\n\r\n  const filteredData = useMemo(() => {\r\n    return data.filter(item => \r\n      filters.searchTerm === '' || item.month.toLowerCase().includes(filters.searchTerm.toLowerCase())\r\n    );\r\n  }, [data, filters]);\r\n\r\n  const handleFilterChange = (newFilters) => {\r\n    setFilters(prev => ({ ...prev, ...newFilters }));\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <>\r\n        <header className=\"main-header\">\r\n          <h1 className=\"page-title\"><i className=\"bi bi-calendar3\"></i>Monthly Report</h1>\r\n        </header>\r\n        <div className=\"page-content\">\r\n          <div className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '400px' }}>\r\n            <div className=\"loading-spinner\"></div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header className=\"main-header\">\r\n        <h1 className=\"page-title\"><i className=\"bi bi-calendar3\"></i>Monthly Report</h1>\r\n      </header>\r\n      <div className=\"page-content\">\r\n        <Filters filters={filters} onFilterChange={handleFilterChange} showDateRange={true} showSearch={true} />\r\n        <DataTable title=\"Monthly Performance Summary\" data={filteredData} columns={['month', 'revenue', 'units', 'aov', 'acos', 'roas', 'sessions', 'conversion']} searchable={true} sortable={true} pagination={true} pageSize={12} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MonthWiseReport;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1808, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/AdsReport.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport Filters from '../components/Filters';\r\nimport DataTable from '../components/DataTable';\r\nimport KPICard from '../components/KPICard';\r\nimport { asinApi, sellerApi } from '../services/api';\r\n\r\nconst AdsReport = () => {\r\n  const [data, setData] = useState([]);\r\n  const [kpis, setKpis] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState({ dateRange: 'last30', campaignType: 'all', status: 'all', searchTerm: '' });\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const asinResponse = await asinApi.getAll({ limit: 500 });\r\n        const sellerResponse = await sellerApi.getAll({ limit: 100 });\r\n        \r\n        const asins = asinResponse.asins || [];\r\n        const sellers = sellerResponse.sellers || [];\r\n        const totalAsins = asins.length || 10;\r\n        const totalSellers = sellers.length || 1;\r\n        \r\n        // Generate ad campaign data based on actual database counts\r\n        const campaignTypes = ['Sponsored Products', 'Sponsored Brands', 'Sponsored Display', 'Sponsored TV'];\r\n        const statuses = ['Active', 'Paused', 'Ended'];\r\n        const campaigns = ['Summer Sale', 'New Product Launch', 'Brand Awareness', 'Holiday Special', 'Competitor Conquest', 'Retargeting Drive', 'Category Dominance', 'Prime Day Boost', 'Video Campaign', 'Store Spotlight'];\r\n        \r\n        const generatedData = campaigns.map((campaign, idx) => {\r\n          const type = campaignTypes[idx % campaignTypes.length];\r\n          const status = statuses[idx % statuses.length];\r\n          const baseSpend = 5000 + (totalAsins * 100) + (totalSellers * 500);\r\n          const spend = Math.round(baseSpend + Math.random() * baseSpend);\r\n          const impressions = Math.round(spend * 35 + Math.random() * 100000);\r\n          const clicks = Math.round(impressions * (0.01 + Math.random() * 0.02));\r\n          const ctr = ((clicks / impressions) * 100).toFixed(2);\r\n          const cpc = (spend / clicks).toFixed(2);\r\n          const sales = Math.round(spend * (3 + Math.random()));\r\n          const acos = ((spend / sales) * 100).toFixed(1);\r\n          const roas = (sales / spend).toFixed(2);\r\n          \r\n          return {\r\n            id: idx + 1,\r\n            campaign: `${campaign} ${new Date().getFullYear()}`,\r\n            type,\r\n            status,\r\n            spend,\r\n            impressions,\r\n            clicks,\r\n            ctr,\r\n            cpc,\r\n            sales,\r\n            acos,\r\n            roas,\r\n          };\r\n        });\r\n        \r\n        // Calculate KPIs\r\n        const totalSpend = generatedData.reduce((sum, item) => sum + item.spend, 0);\r\n        const totalSales = generatedData.reduce((sum, item) => sum + item.sales, 0);\r\n        const avgRoas = totalSpend > 0 ? (totalSales / totalSpend).toFixed(2) : '0.00';\r\n        const avgAcos = totalSales > 0 ? ((totalSpend / totalSales) * 100).toFixed(1) : '0.0';\r\n        \r\n        setKpis([\r\n          { id: 1, title: 'Total Ad Spend', value: `₹${totalSpend.toLocaleString()}`, icon: 'bi-currency-rupee', trend: 12.5, trendType: 'negative' },\r\n          { id: 2, title: 'Ad Revenue', value: `₹${totalSales.toLocaleString()}`, icon: 'bi-graph-up', trend: 18.2, trendType: 'positive' },\r\n          { id: 3, title: 'Average ROAS', value: `${avgRoas}x`, icon: 'bi-bar-chart-line', trend: 8.5, trendType: 'positive' },\r\n          { id: 4, title: 'Average ACoS', value: `${avgAcos}%`, icon: 'bi-percent', trend: 3.2, trendType: 'positive' },\r\n        ]);\r\n        \r\n        setData(generatedData);\r\n      } catch (error) {\r\n        console.error('Failed to load ads data:', error);\r\n        setData([]);\r\n        setKpis([]);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    loadData();\r\n  }, []);\r\n\r\n  const filteredData = useMemo(() => {\r\n    return data.filter(item => {\r\n      const matchesType = filters.campaignType === 'all' || item.type === filters.campaignType;\r\n      const matchesStatus = filters.status === 'all' || item.status === filters.status;\r\n      const matchesSearch = filters.searchTerm === '' || item.campaign.toLowerCase().includes(filters.searchTerm.toLowerCase());\r\n      return matchesType && matchesStatus && matchesSearch;\r\n    });\r\n  }, [data, filters]);\r\n\r\n  const handleFilterChange = (newFilters) => {\r\n    setFilters(prev => ({ ...prev, ...newFilters }));\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <>\r\n        <header className=\"main-header\">\r\n          <h1 className=\"page-title\"><i className=\"bi bi-megaphone\"></i>Ads Report</h1>\r\n        </header>\r\n        <div className=\"page-content\">\r\n          <div className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '400px' }}>\r\n            <div className=\"loading-spinner\"></div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header className=\"main-header\">\r\n        <h1 className=\"page-title\"><i className=\"bi bi-megaphone\"></i>Ads Report</h1>\r\n      </header>\r\n      <div className=\"page-content\">\r\n        <Filters filters={filters} onFilterChange={handleFilterChange} showDateRange={true} showCampaignType={true} showStatus={true} showSearch={true} />\r\n        <div className=\"kpi-grid mb-4\">\r\n          {kpis.map(kpi => (\r\n            <KPICard key={kpi.id} title={kpi.title} value={kpi.value} icon={kpi.icon} trend={kpi.trend} trendType={kpi.trendType} />\r\n          ))}\r\n        </div>\r\n        <DataTable title=\"Campaign Performance\" data={filteredData} columns={['campaign', 'type', 'status', 'spend', 'impressions', 'clicks', 'ctr', 'cpc', 'sales', 'acos', 'roas']} searchable={true} sortable={true} pagination={true} pageSize={10} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdsReport;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2140, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/UploadExport.jsx"],"sourcesContent":["import React from 'react';\nimport UploadForm from '../components/UploadForm';\nimport ExportButton from '../components/ExportButton';\n\nconst UploadExport = () => {\n  return (\n    <>\n      <header className=\"main-header\">\n        <h1 className=\"page-title\">\n          <i className=\"bi bi-arrow-left-right\"></i>\n          Upload & Export\n        </h1>\n      </header>\n      <div className=\"page-content\">\n        <div className=\"row\">\n          <div className=\"col-lg-6 mb-4\">\n            <div className=\"card\">\n              <div className=\"card-header\">\n                <h3 className=\"card-title\">\n                  <i className=\"bi bi-cloud-upload me-2\"></i>\n                  Upload Data\n                </h3>\n              </div>\n              <div className=\"card-body\">\n                <UploadForm />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-lg-6 mb-4\">\n            <div className=\"card\">\n              <div className=\"card-header\">\n                <h3 className=\"card-title\">\n                  <i className=\"bi bi-download me-2\"></i>\n                  Export Data\n                </h3>\n              </div>\n              <div className=\"card-body\">\n                <ExportButton />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row mt-4\">\n          <div className=\"col-12\">\n            <div className=\"card\">\n              <div className=\"card-header\">\n                <h3 className=\"card-title\">\n                  <i className=\"bi bi-info-circle me-2\"></i>\n                  Instructions\n                </h3>\n              </div>\n              <div className=\"card-body\">\n                <div className=\"alert alert-info\">\n                  <i className=\"bi bi-info-circle me-2\"></i>\n                  <div><strong>Upload Instructions:</strong> Accepts CSV files with Amazon sales data. Ensure columns include: Date, ASIN, SKU, Sales, Units, Revenue.</div>\n                </div>\n                <div className=\"alert alert-success\">\n                  <i className=\"bi bi-check-circle me-2\"></i>\n                  <div><strong>Export Options:</strong> Export your data in CSV or Excel format. Filter by date range before exporting for specific results.</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default UploadExport;\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,eAAe;IACnB,qBACE;;0BACE,6LAAC;gBAAO,WAAU;0BAChB,cAAA,6LAAC;oBAAG,WAAU;;sCACZ,6LAAC;4BAAE,WAAU;;;;;;wBAA6B;;;;;;;;;;;;0BAI9C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAG,WAAU;;kEACZ,6LAAC;wDAAE,WAAU;;;;;;oDAA8B;;;;;;;;;;;;sDAI/C,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC,8IAAU;;;;;;;;;;;;;;;;;;;;;0CAIjB,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAG,WAAU;;kEACZ,6LAAC;wDAAE,WAAU;;;;;;oDAA0B;;;;;;;;;;;;sDAI3C,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC,gJAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAKrB,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CAAG,WAAU;;8DACZ,6LAAC;oDAAE,WAAU;;;;;;gDAA6B;;;;;;;;;;;;kDAI9C,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAE,WAAU;;;;;;kEACb,6LAAC;;0EAAI,6LAAC;0EAAO;;;;;;4DAA6B;;;;;;;;;;;;;0DAE5C,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAE,WAAU;;;;;;kEACb,6LAAC;;0EAAI,6LAAC;0EAAO;;;;;;4DAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASvD;KA/DM;uCAiES"}},
    {"offset": {"line": 2435, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/AlertsPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Bell, CheckCircle, AlertTriangle, Info, XCircle, Trash2, Check } from 'lucide-react';\nimport Filters from '../components/Filters';\n\nconst demoAlerts = [\n  { id: 1, type: 'Revenue', severity: 'warning', message: 'Revenue for ASIN B0XYZ dropped by 35% this month', status: 'Active', createdAt: '2024-01-15 10:30 AM', acknowledged: false },\n  { id: 2, type: 'Inventory', severity: 'critical', message: 'Stock level for SKU-001 is below 50 units', status: 'Active', createdAt: '2024-01-15 09:15 AM', acknowledged: true },\n  { id: 3, type: 'Ads', severity: 'warning', message: 'ACOS for campaign \"Summer Sale\" increased to 32%', status: 'Active', createdAt: '2024-01-14 03:45 PM', acknowledged: false },\n  { id: 4, type: 'Competitor', severity: 'info', message: 'New competitor detected in Electronics category', status: 'Active', createdAt: '2024-01-14 11:20 AM', acknowledged: true },\n  { id: 5, type: 'Performance', severity: 'success', message: 'SKU-005 exceeded sales target by 25% this week', status: 'Active', createdAt: '2024-01-13 02:00 PM', acknowledged: true },\n  { id: 6, type: 'Pricing', severity: 'warning', message: 'Price drop detected for competitor product', status: 'Active', createdAt: '2024-01-12 08:30 AM', acknowledged: false },\n  { id: 7, type: 'Reviews', severity: 'critical', message: 'Negative review spike detected (5 new 1-star reviews)', status: 'Active', createdAt: '2024-01-11 04:15 PM', acknowledged: false },\n  { id: 8, type: 'Inventory', severity: 'critical', message: 'SKU-003 inventory running low (15 units remaining)', status: 'Active', createdAt: '2024-01-10 01:00 PM', acknowledged: true },\n];\n\nconst AlertsPage = () => {\n  const [alerts, setAlerts] = useState(demoAlerts);\n  const [filters, setFilters] = useState({\n    severity: 'all',\n    searchTerm: ''\n  });\n\n  const filteredAlerts = alerts.filter(alert => {\n    const matchesSeverity = filters.severity === 'all' || alert.severity === filters.severity;\n    const matchesSearch = filters.searchTerm === '' ||\n      alert.message.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||\n      alert.type.toLowerCase().includes(filters.searchTerm.toLowerCase());\n    return matchesSeverity && matchesSearch;\n  });\n\n  // Calculate statistics\n  const stats = {\n    total: alerts.length,\n    critical: alerts.filter(a => a.severity === 'critical').length,\n    warning: alerts.filter(a => a.severity === 'warning').length,\n    success: alerts.filter(a => a.severity === 'success').length,\n    info: alerts.filter(a => a.severity === 'info').length,\n    unacknowledged: alerts.filter(a => !a.acknowledged).length,\n  };\n\n  const acknowledgeAlert = (id) => {\n    setAlerts(alerts.map(alert =>\n      alert.id === id ? { ...alert, acknowledged: true } : alert\n    ));\n  };\n\n  const acknowledgeAll = () => {\n    if (window.confirm('Acknowledge all unacknowledged alerts?')) {\n      setAlerts(alerts.map(alert => ({ ...alert, acknowledged: true })));\n    }\n  };\n\n  const deleteAlert = (id) => {\n    setAlerts(alerts.filter(alert => alert.id !== id));\n  };\n\n  const clearAcknowledged = () => {\n    if (window.confirm('Delete all acknowledged alerts?')) {\n      setAlerts(alerts.filter(alert => !alert.acknowledged));\n    }\n  };\n\n  const getSeverityClass = (severity) => {\n    const classes = {\n      critical: 'alert-item-critical',\n      warning: 'alert-item-warning',\n      success: 'alert-item-success',\n      info: 'alert-item-info'\n    };\n    return classes[severity] || 'alert-item-info';\n  };\n\n  const getSeverityIcon = (severity) => {\n    const icons = {\n      critical: <XCircle style={{ width: '20px', height: '20px' }} />,\n      warning: <AlertTriangle style={{ width: '20px', height: '20px' }} />,\n      success: <CheckCircle style={{ width: '20px', height: '20px' }} />,\n      info: <Info style={{ width: '20px', height: '20px' }} />\n    };\n    return icons[severity] || <Bell style={{ width: '20px', height: '20px' }} />;\n  };\n\n  const handleFilterChange = (newFilters) => {\n    setFilters(prev => ({ ...prev, ...newFilters }));\n  };\n\n  return (\n    <>\n      <header className=\"main-header\">\n        <h1 className=\"page-title\">\n          <i className=\"bi bi-bell\"></i>\n          Alerts & Notifications\n        </h1>\n      </header>\n      <div className=\"page-content\">\n        {/* Statistics Summary */}\n        <div className=\"alert-stats-grid mb-4\">\n          <div className=\"alert-stat-card\">\n            <div className=\"stat-icon stat-icon-total\">\n              <Bell style={{ width: '24px', height: '24px' }} />\n            </div>\n            <div className=\"stat-info\">\n              <div className=\"stat-label\">Total Alerts</div>\n              <div className=\"stat-value\">{stats.total}</div>\n            </div>\n          </div>\n          <div className=\"alert-stat-card\">\n            <div className=\"stat-icon stat-icon-critical\">\n              <XCircle style={{ width: '24px', height: '24px' }} />\n            </div>\n            <div className=\"stat-info\">\n              <div className=\"stat-label\">Critical</div>\n              <div className=\"stat-value\">{stats.critical}</div>\n            </div>\n          </div>\n          <div className=\"alert-stat-card\">\n            <div className=\"stat-icon stat-icon-warning\">\n              <AlertTriangle style={{ width: '24px', height: '24px' }} />\n            </div>\n            <div className=\"stat-info\">\n              <div className=\"stat-label\">Warning</div>\n              <div className=\"stat-value\">{stats.warning}</div>\n            </div>\n          </div>\n          <div className=\"alert-stat-card\">\n            <div className=\"stat-icon stat-icon-success\">\n              <CheckCircle style={{ width: '24px', height: '24px' }} />\n            </div>\n            <div className=\"stat-info\">\n              <div className=\"stat-label\">Success</div>\n              <div className=\"stat-value\">{stats.success}</div>\n            </div>\n          </div>\n          <div className=\"alert-stat-card\">\n            <div className=\"stat-icon stat-icon-info\">\n              <Info style={{ width: '24px', height: '24px' }} />\n            </div>\n            <div className=\"stat-info\">\n              <div className=\"stat-label\">Info</div>\n              <div className=\"stat-value\">{stats.info}</div>\n            </div>\n          </div>\n          <div className=\"alert-stat-card\">\n            <div className=\"stat-icon stat-icon-unack\">\n              <i className=\"bi bi-bell-fill\" style={{ fontSize: '24px' }}></i>\n            </div>\n            <div className=\"stat-info\">\n              <div className=\"stat-label\">Unacknowledged</div>\n              <div className=\"stat-value\">{stats.unacknowledged}</div>\n            </div>\n          </div>\n        </div>\n\n        <Filters\n          filters={filters}\n          onFilterChange={handleFilterChange}\n          showSearch={true}\n          showDateRange={false}\n          showCategory={false}\n        />\n\n        <div className=\"d-flex justify-content-between align-items-center mb-3\">\n          <span className=\"text-muted\">{filteredAlerts.length} alerts</span>\n          <div className=\"d-flex gap-2\">\n            <button\n              className={`btn btn-sm ${filters.severity === 'all' ? 'btn-primary' : 'btn-outline-secondary'}`}\n              onClick={() => handleFilterChange({ severity: 'all' })}\n            >\n              All\n            </button>\n            <button\n              className={`btn btn-sm ${filters.severity === 'critical' ? 'btn-danger' : 'btn-outline-secondary'}`}\n              onClick={() => handleFilterChange({ severity: 'critical' })}\n            >\n              Critical\n            </button>\n            <button\n              className={`btn btn-sm ${filters.severity === 'warning' ? 'btn-warning' : 'btn-outline-secondary'}`}\n              onClick={() => handleFilterChange({ severity: 'warning' })}\n            >\n              Warning\n            </button>\n            <button\n              className={`btn btn-sm ${filters.severity === 'success' ? 'btn-success' : 'btn-outline-secondary'}`}\n              onClick={() => handleFilterChange({ severity: 'success' })}\n            >\n              Success\n            </button>\n            <button\n              className={`btn btn-sm ${filters.severity === 'info' ? 'btn-secondary' : 'btn-outline-secondary'}`}\n              onClick={() => handleFilterChange({ severity: 'info' })}\n            >\n              Info\n            </button>\n          </div>\n        </div>\n\n        {/* Bulk Actions */}\n        {alerts.length > 0 && (\n          <div className=\"d-flex justify-content-end gap-2 mb-3\">\n            {stats.unacknowledged > 0 && (\n              <button className=\"btn btn-sm btn-outline-primary\" onClick={acknowledgeAll}>\n                <Check style={{ width: '14px', height: '14px', marginRight: '0.25rem' }} />\n                Acknowledge All ({stats.unacknowledged})\n              </button>\n            )}\n            {alerts.some(a => a.acknowledged) && (\n              <button className=\"btn btn-sm btn-outline-danger\" onClick={clearAcknowledged}>\n                <Trash2 style={{ width: '14px', height: '14px', marginRight: '0.25rem' }} />\n                Clear Acknowledged\n              </button>\n            )}\n          </div>\n        )}\n\n        <div className=\"alerts-container\">\n          {filteredAlerts.length === 0 ? (\n            <div className=\"alert-empty-state\">\n              <i className=\"bi bi-bell-slash\"></i>\n              <h3>No alerts found</h3>\n              <p>There are no alerts matching your current filters.</p>\n            </div>\n          ) : (\n            filteredAlerts.map(alert => (\n              <div key={alert.id} className={`alert-item ${getSeverityClass(alert.severity)} ${alert.acknowledged ? 'alert-acknowledged' : ''}`}>\n                <div className=\"alert-severity-indicator\"></div>\n                <div className=\"alert-icon\">\n                  {getSeverityIcon(alert.severity)}\n                </div>\n                <div className=\"alert-content\">\n                  <div className=\"alert-header\">\n                    <span className=\"badge badge-primary\">{alert.type}</span>\n                    <span className=\"alert-time\">\n                      <i className=\"bi bi-clock me-1\"></i>\n                      {alert.createdAt}\n                    </span>\n                  </div>\n                  <div className=\"alert-message\">{alert.message}</div>\n                  {alert.acknowledged && (\n                    <div className=\"alert-status\">\n                      <i className=\"bi bi-check-circle me-1\"></i>\n                      Acknowledged\n                    </div>\n                  )}\n                </div>\n                <div className=\"alert-actions\">\n                  {!alert.acknowledged && (\n                    <button\n                      className=\"btn btn-sm btn-outline-success\"\n                      onClick={() => acknowledgeAlert(alert.id)}\n                      title=\"Acknowledge\"\n                    >\n                      <i className=\"bi bi-check\"></i>\n                    </button>\n                  )}\n                  <button\n                    className=\"btn btn-sm btn-outline-danger\"\n                    onClick={() => deleteAlert(alert.id)}\n                    title=\"Delete\"\n                  >\n                    <i className=\"bi bi-trash\"></i>\n                  </button>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default AlertsPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3324, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/AlertRulesPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\n\nconst demoRules = [\n  { id: 1, name: 'Revenue Drop Alert', metric: 'revenue', operator: 'decreased by', value: 20, period: '7 days', severity: 'warning', status: true, type: 'Revenue' },\n  { id: 2, name: 'Low Inventory Warning', metric: 'inventory', operator: 'less than', value: 50, period: 'daily', severity: 'critical', status: true, type: 'Inventory' },\n  { id: 3, name: 'ACoS Increase Alert', metric: 'acos', operator: 'increased by', value: 10, period: '7 days', severity: 'warning', status: true, type: 'Ads' },\n  { id: 4, name: 'New Competitor Alert', metric: 'competitor', operator: 'detected', value: 1, period: 'daily', severity: 'info', status: true, type: 'Competitor' },\n  { id: 5, name: 'Negative Review Alert', metric: 'reviews', operator: 'decreased by', value: 1, period: 'daily', severity: 'danger', status: false, type: 'Reviews' },\n  { id: 6, name: 'Sales Target Alert', metric: 'sales', operator: 'less than', value: 1000, period: '7 days', severity: 'warning', status: true, type: 'Performance' },\n  { id: 7, name: 'ROAS Drop Alert', metric: 'roas', operator: 'decreased by', value: 15, period: '7 days', severity: 'warning', status: true, type: 'Ads' },\n  { id: 8, name: 'Price Change Alert', metric: 'price', operator: 'changed by', value: 5, period: 'daily', severity: 'info', status: false, type: 'Pricing' },\n];\n\nconst AlertRulesPage = () => {\n  const [rules, setRules] = useState(demoRules);\n  const [showForm, setShowForm] = useState(false);\n  const [newRule, setNewRule] = useState({\n    name: '',\n    metric: 'revenue',\n    operator: 'decreased by',\n    value: '',\n    period: '7 days',\n    severity: 'warning',\n    type: 'Revenue'\n  });\n\n  const toggleRule = (id) => {\n    setRules(rules.map(rule => \n      rule.id === id ? { ...rule, status: !rule.status } : rule\n    ));\n  };\n\n  const deleteRule = (id) => {\n    setRules(rules.filter(rule => rule.id !== id));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const rule = {\n      id: Date.now(),\n      ...newRule,\n      value: parseFloat(newRule.value),\n      status: true\n    };\n    setRules([...rules, rule]);\n    setNewRule({\n      name: '',\n      metric: 'revenue',\n      operator: 'decreased by',\n      value: '',\n      period: '7 days',\n      severity: 'warning',\n      type: 'Revenue'\n    });\n    setShowForm(false);\n  };\n\n  const getSeverityClass = (severity) => {\n    const classes = {\n      critical: 'badge-danger',\n      warning: 'badge-warning',\n      success: 'badge-success',\n      info: 'badge-primary'\n    };\n    return classes[severity] || 'badge-primary';\n  };\n\n  return (\n    <>\n      <header className=\"main-header\">\n        <h1 className=\"page-title\">\n          <i className=\"bi bi-gear\"></i>\n          Alert Rules\n        </h1>\n      </header>\n      <div className=\"page-content\">\n        <div className=\"d-flex justify-content-between align-items-center mb-4\">\n          <p className=\"text-muted mb-0\">Configure automatic alerts based on your business metrics</p>\n          <button className=\"btn btn-primary\" onClick={() => setShowForm(!showForm)}>\n            <i className=\"bi bi-plus-lg me-2\"></i>\n            Create New Rule\n          </button>\n        </div>\n\n        {showForm && (\n          <div className=\"card mb-4\">\n            <div className=\"card-header\">\n              <h5 className=\"card-title mb-0\">Create Alert Rule</h5>\n            </div>\n            <div className=\"card-body\">\n              <form onSubmit={handleSubmit}>\n                <div className=\"row\">\n                  <div className=\"col-lg-6 mb-3\">\n                    <label className=\"filter-label\">Rule Name</label>\n                    <input\n                      type=\"text\"\n                      className=\"form-control\"\n                      placeholder=\"e.g., Revenue Drop Alert\"\n                      value={newRule.name}\n                      onChange={(e) => setNewRule({ ...newRule, name: e.target.value })}\n                      required\n                    />\n                  </div>\n                  <div className=\"col-lg-6 mb-3\">\n                    <label className=\"filter-label\">Alert Type</label>\n                    <select\n                      className=\"form-select\"\n                      value={newRule.type}\n                      onChange={(e) => setNewRule({ ...newRule, type: e.target.value, metric: e.target.value.toLowerCase() })}\n                    >\n                      <option value=\"Revenue\">Revenue</option>\n                      <option value=\"Inventory\">Inventory</option>\n                      <option value=\"Ads\">Ads</option>\n                      <option value=\"Competitor\">Competitor</option>\n                      <option value=\"Reviews\">Reviews</option>\n                      <option value=\"Performance\">Performance</option>\n                      <option value=\"Pricing\">Pricing</option>\n                    </select>\n                  </div>\n                  <div className=\"col-lg-3 mb-3\">\n                    <label className=\"filter-label\">Metric</label>\n                    <select\n                      className=\"form-select\"\n                      value={newRule.metric}\n                      onChange={(e) => setNewRule({ ...newRule, metric: e.target.value })}\n                    >\n                      <option value=\"revenue\">Revenue</option>\n                      <option value=\"units\">Units Sold</option>\n                      <option value=\"acos\">ACoS</option>\n                      <option value=\"roas\">RoAS</option>\n                      <option value=\"inventory\">Inventory</option>\n                      <option value=\"price\">Price</option>\n                      <option value=\"reviews\">Reviews</option>\n                    </select>\n                  </div>\n                  <div className=\"col-lg-3 mb-3\">\n                    <label className=\"filter-label\">Condition</label>\n                    <select\n                      className=\"form-select\"\n                      value={newRule.operator}\n                      onChange={(e) => setNewRule({ ...newRule, operator: e.target.value })}\n                    >\n                      <option value=\"decreased by\">Decreased by %</option>\n                      <option value=\"increased by\">Increased by %</option>\n                      <option value=\"less than\">Less than</option>\n                      <option value=\"greater than\">Greater than</option>\n                      <option value=\"equals\">Equals</option>\n                    </select>\n                  </div>\n                  <div className=\"col-lg-2 mb-3\">\n                    <label className=\"filter-label\">Value</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control\"\n                      placeholder=\"e.g., 20\"\n                      value={newRule.value}\n                      onChange={(e) => setNewRule({ ...newRule, value: e.target.value })}\n                      required\n                    />\n                  </div>\n                  <div className=\"col-lg-2 mb-3\">\n                    <label className=\"filter-label\">Period</label>\n                    <select\n                      className=\"form-select\"\n                      value={newRule.period}\n                      onChange={(e) => setNewRule({ ...newRule, period: e.target.value })}\n                    >\n                      <option value=\"daily\">Daily</option>\n                      <option value=\"7 days\">7 Days</option>\n                      <option value=\"14 days\">14 Days</option>\n                      <option value=\"30 days\">30 Days</option>\n                    </select>\n                  </div>\n                  <div className=\"col-lg-2 mb-3\">\n                    <label className=\"filter-label\">Severity</label>\n                    <select\n                      className=\"form-select\"\n                      value={newRule.severity}\n                      onChange={(e) => setNewRule({ ...newRule, severity: e.target.value })}\n                    >\n                      <option value=\"info\">Info</option>\n                      <option value=\"warning\">Warning</option>\n                      <option value=\"critical\">Critical</option>\n                    </select>\n                  </div>\n                </div>\n                <div className=\"d-flex gap-2\">\n                  <button type=\"submit\" className=\"btn btn-primary\">\n                    <i className=\"bi bi-check-lg me-2\"></i>\n                    Save Rule\n                  </button>\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setShowForm(false)}>\n                    <i className=\"bi bi-x-lg me-2\"></i>\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n\n        <div className=\"data-table-container\">\n          <div className=\"data-table-header\">\n            <h3 className=\"data-table-title\">Alert Rules</h3>\n            <span className=\"text-muted\">{rules.length} rules</span>\n          </div>\n          <div style={{ overflowX: 'auto' }}>\n            <table className=\"data-table\">\n              <thead>\n                <tr>\n                  <th>Rule Name</th>\n                  <th>Type</th>\n                  <th>Condition</th>\n                  <th>Severity</th>\n                  <th>Status</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {rules.map(rule => (\n                  <tr key={rule.id}>\n                    <td><strong>{rule.name}</strong></td>\n                    <td><span className=\"badge badge-primary\">{rule.type}</span></td>\n                    <td>{rule.metric} {rule.operator} {rule.value}% ({rule.period})</td>\n                    <td><span className={`badge ${getSeverityClass(rule.severity)}`}>{rule.severity}</span></td>\n                    <td>\n                      <div className=\"form-check form-switch\">\n                        <input\n                          className=\"form-check-input\"\n                          type=\"checkbox\"\n                          checked={rule.status}\n                          onChange={() => toggleRule(rule.id)}\n                          style={{ cursor: 'pointer' }}\n                        />\n                      </div>\n                    </td>\n                    <td>\n                      <button className=\"btn btn-sm btn-secondary me-2\" onClick={() => deleteRule(rule.id)}>\n                        <i className=\"bi bi-trash\"></i>\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default AlertRulesPage;\n"],"names":[],"mappings":";;;;;AAAA;;;;AAEA,MAAM,YAAY;IAChB;QAAE,IAAI;QAAG,MAAM;QAAsB,QAAQ;QAAW,UAAU;QAAgB,OAAO;QAAI,QAAQ;QAAU,UAAU;QAAW,QAAQ;QAAM,MAAM;IAAU;IAClK;QAAE,IAAI;QAAG,MAAM;QAAyB,QAAQ;QAAa,UAAU;QAAa,OAAO;QAAI,QAAQ;QAAS,UAAU;QAAY,QAAQ;QAAM,MAAM;IAAY;IACtK;QAAE,IAAI;QAAG,MAAM;QAAuB,QAAQ;QAAQ,UAAU;QAAgB,OAAO;QAAI,QAAQ;QAAU,UAAU;QAAW,QAAQ;QAAM,MAAM;IAAM;IAC5J;QAAE,IAAI;QAAG,MAAM;QAAwB,QAAQ;QAAc,UAAU;QAAY,OAAO;QAAG,QAAQ;QAAS,UAAU;QAAQ,QAAQ;QAAM,MAAM;IAAa;IACjK;QAAE,IAAI;QAAG,MAAM;QAAyB,QAAQ;QAAW,UAAU;QAAgB,OAAO;QAAG,QAAQ;QAAS,UAAU;QAAU,QAAQ;QAAO,MAAM;IAAU;IACnK;QAAE,IAAI;QAAG,MAAM;QAAsB,QAAQ;QAAS,UAAU;QAAa,OAAO;QAAM,QAAQ;QAAU,UAAU;QAAW,QAAQ;QAAM,MAAM;IAAc;IACnK;QAAE,IAAI;QAAG,MAAM;QAAmB,QAAQ;QAAQ,UAAU;QAAgB,OAAO;QAAI,QAAQ;QAAU,UAAU;QAAW,QAAQ;QAAM,MAAM;IAAM;IACxJ;QAAE,IAAI;QAAG,MAAM;QAAsB,QAAQ;QAAS,UAAU;QAAc,OAAO;QAAG,QAAQ;QAAS,UAAU;QAAQ,QAAQ;QAAO,MAAM;IAAU;CAC3J;AAED,MAAM,iBAAiB;;IACrB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;QACrC,MAAM;QACN,QAAQ;QACR,UAAU;QACV,OAAO;QACP,QAAQ;QACR,UAAU;QACV,MAAM;IACR;IAEA,MAAM,aAAa,CAAC;QAClB,SAAS,MAAM,GAAG,CAAC,CAAA,OACjB,KAAK,EAAE,KAAK,KAAK;gBAAE,GAAG,IAAI;gBAAE,QAAQ,CAAC,KAAK,MAAM;YAAC,IAAI;IAEzD;IAEA,MAAM,aAAa,CAAC;QAClB,SAAS,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;IAC5C;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,MAAM,OAAO;YACX,IAAI,KAAK,GAAG;YACZ,GAAG,OAAO;YACV,OAAO,WAAW,QAAQ,KAAK;YAC/B,QAAQ;QACV;QACA,SAAS;eAAI;YAAO;SAAK;QACzB,WAAW;YACT,MAAM;YACN,QAAQ;YACR,UAAU;YACV,OAAO;YACP,QAAQ;YACR,UAAU;YACV,MAAM;QACR;QACA,YAAY;IACd;IAEA,MAAM,mBAAmB,CAAC;QACxB,MAAM,UAAU;YACd,UAAU;YACV,SAAS;YACT,SAAS;YACT,MAAM;QACR;QACA,OAAO,OAAO,CAAC,SAAS,IAAI;IAC9B;IAEA,qBACE;;0BACE,6LAAC;gBAAO,WAAU;0BAChB,cAAA,6LAAC;oBAAG,WAAU;;sCACZ,6LAAC;4BAAE,WAAU;;;;;;wBAAiB;;;;;;;;;;;;0BAIlC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAE,WAAU;0CAAkB;;;;;;0CAC/B,6LAAC;gCAAO,WAAU;gCAAkB,SAAS,IAAM,YAAY,CAAC;;kDAC9D,6LAAC;wCAAE,WAAU;;;;;;oCAAyB;;;;;;;;;;;;;oBAKzC,0BACC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAG,WAAU;8CAAkB;;;;;;;;;;;0CAElC,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAK,UAAU;;sDACd,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAM,WAAU;sEAAe;;;;;;sEAChC,6LAAC;4DACC,MAAK;4DACL,WAAU;4DACV,aAAY;4DACZ,OAAO,QAAQ,IAAI;4DACnB,UAAU,CAAC,IAAM,WAAW;oEAAE,GAAG,OAAO;oEAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gEAAC;4DAC/D,QAAQ;;;;;;;;;;;;8DAGZ,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAM,WAAU;sEAAe;;;;;;sEAChC,6LAAC;4DACC,WAAU;4DACV,OAAO,QAAQ,IAAI;4DACnB,UAAU,CAAC,IAAM,WAAW;oEAAE,GAAG,OAAO;oEAAE,MAAM,EAAE,MAAM,CAAC,KAAK;oEAAE,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,WAAW;gEAAG;;8EAErG,6LAAC;oEAAO,OAAM;8EAAU;;;;;;8EACxB,6LAAC;oEAAO,OAAM;8EAAY;;;;;;8EAC1B,6LAAC;oEAAO,OAAM;8EAAM;;;;;;8EACpB,6LAAC;oEAAO,OAAM;8EAAa;;;;;;8EAC3B,6LAAC;oEAAO,OAAM;8EAAU;;;;;;8EACxB,6LAAC;oEAAO,OAAM;8EAAc;;;;;;8EAC5B,6LAAC;oEAAO,OAAM;8EAAU;;;;;;;;;;;;;;;;;;8DAG5B,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAM,WAAU;sEAAe;;;;;;sEAChC,6LAAC;4DACC,WAAU;4DACV,OAAO,QAAQ,MAAM;4DACrB,UAAU,CAAC,IAAM,WAAW;oEAAE,GAAG,OAAO;oEAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;gEAAC;;8EAEjE,6LAAC;oEAAO,OAAM;8EAAU;;;;;;8EACxB,6LAAC;oEAAO,OAAM;8EAAQ;;;;;;8EACtB,6LAAC;oEAAO,OAAM;8EAAO;;;;;;8EACrB,6LAAC;oEAAO,OAAM;8EAAO;;;;;;8EACrB,6LAAC;oEAAO,OAAM;8EAAY;;;;;;8EAC1B,6LAAC;oEAAO,OAAM;8EAAQ;;;;;;8EACtB,6LAAC;oEAAO,OAAM;8EAAU;;;;;;;;;;;;;;;;;;8DAG5B,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAM,WAAU;sEAAe;;;;;;sEAChC,6LAAC;4DACC,WAAU;4DACV,OAAO,QAAQ,QAAQ;4DACvB,UAAU,CAAC,IAAM,WAAW;oEAAE,GAAG,OAAO;oEAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gEAAC;;8EAEnE,6LAAC;oEAAO,OAAM;8EAAe;;;;;;8EAC7B,6LAAC;oEAAO,OAAM;8EAAe;;;;;;8EAC7B,6LAAC;oEAAO,OAAM;8EAAY;;;;;;8EAC1B,6LAAC;oEAAO,OAAM;8EAAe;;;;;;8EAC7B,6LAAC;oEAAO,OAAM;8EAAS;;;;;;;;;;;;;;;;;;8DAG3B,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAM,WAAU;sEAAe;;;;;;sEAChC,6LAAC;4DACC,MAAK;4DACL,WAAU;4DACV,aAAY;4DACZ,OAAO,QAAQ,KAAK;4DACpB,UAAU,CAAC,IAAM,WAAW;oEAAE,GAAG,OAAO;oEAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gEAAC;4DAChE,QAAQ;;;;;;;;;;;;8DAGZ,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAM,WAAU;sEAAe;;;;;;sEAChC,6LAAC;4DACC,WAAU;4DACV,OAAO,QAAQ,MAAM;4DACrB,UAAU,CAAC,IAAM,WAAW;oEAAE,GAAG,OAAO;oEAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;gEAAC;;8EAEjE,6LAAC;oEAAO,OAAM;8EAAQ;;;;;;8EACtB,6LAAC;oEAAO,OAAM;8EAAS;;;;;;8EACvB,6LAAC;oEAAO,OAAM;8EAAU;;;;;;8EACxB,6LAAC;oEAAO,OAAM;8EAAU;;;;;;;;;;;;;;;;;;8DAG5B,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAM,WAAU;sEAAe;;;;;;sEAChC,6LAAC;4DACC,WAAU;4DACV,OAAO,QAAQ,QAAQ;4DACvB,UAAU,CAAC,IAAM,WAAW;oEAAE,GAAG,OAAO;oEAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gEAAC;;8EAEnE,6LAAC;oEAAO,OAAM;8EAAO;;;;;;8EACrB,6LAAC;oEAAO,OAAM;8EAAU;;;;;;8EACxB,6LAAC;oEAAO,OAAM;8EAAW;;;;;;;;;;;;;;;;;;;;;;;;sDAI/B,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAO,MAAK;oDAAS,WAAU;;sEAC9B,6LAAC;4DAAE,WAAU;;;;;;wDAA0B;;;;;;;8DAGzC,6LAAC;oDAAO,MAAK;oDAAS,WAAU;oDAAoB,SAAS,IAAM,YAAY;;sEAC7E,6LAAC;4DAAE,WAAU;;;;;;wDAAsB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAS/C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAmB;;;;;;kDACjC,6LAAC;wCAAK,WAAU;;4CAAc,MAAM,MAAM;4CAAC;;;;;;;;;;;;;0CAE7C,6LAAC;gCAAI,OAAO;oCAAE,WAAW;gCAAO;0CAC9B,cAAA,6LAAC;oCAAM,WAAU;;sDACf,6LAAC;sDACC,cAAA,6LAAC;;kEACC,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;;;;;;;;;;;;sDAGR,6LAAC;sDACE,MAAM,GAAG,CAAC,CAAA,qBACT,6LAAC;;sEACC,6LAAC;sEAAG,cAAA,6LAAC;0EAAQ,KAAK,IAAI;;;;;;;;;;;sEACtB,6LAAC;sEAAG,cAAA,6LAAC;gEAAK,WAAU;0EAAuB,KAAK,IAAI;;;;;;;;;;;sEACpD,6LAAC;;gEAAI,KAAK,MAAM;gEAAC;gEAAE,KAAK,QAAQ;gEAAC;gEAAE,KAAK,KAAK;gEAAC;gEAAI,KAAK,MAAM;gEAAC;;;;;;;sEAC9D,6LAAC;sEAAG,cAAA,6LAAC;gEAAK,WAAW,CAAC,MAAM,EAAE,iBAAiB,KAAK,QAAQ,GAAG;0EAAG,KAAK,QAAQ;;;;;;;;;;;sEAC/E,6LAAC;sEACC,cAAA,6LAAC;gEAAI,WAAU;0EACb,cAAA,6LAAC;oEACC,WAAU;oEACV,MAAK;oEACL,SAAS,KAAK,MAAM;oEACpB,UAAU,IAAM,WAAW,KAAK,EAAE;oEAClC,OAAO;wEAAE,QAAQ;oEAAU;;;;;;;;;;;;;;;;sEAIjC,6LAAC;sEACC,cAAA,6LAAC;gEAAO,WAAU;gEAAgC,SAAS,IAAM,WAAW,KAAK,EAAE;0EACjF,cAAA,6LAAC;oEAAE,WAAU;;;;;;;;;;;;;;;;;mDAlBV,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BlC;GA7OM;KAAA;uCA+OS"}},
    {"offset": {"line": 4314, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/ProfitLossPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport Filters from '../components/Filters';\nimport DataTable from '../components/DataTable';\nimport KPICard from '../components/KPICard';\nimport { asinApi, sellerApi } from '../services/api';\n\nconst ProfitLossPage = () => {\n  const [data, setData] = useState([]);\n  const [monthlyData, setMonthlyData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filters, setFilters] = useState({ dateRange: 'thisYear', searchTerm: '' });\n\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      try {\n        const asinResponse = await asinApi.getAll({ limit: 500 });\n        const sellerResponse = await sellerApi.getAll({ limit: 100 });\n        \n        const asins = asinResponse.asins || [];\n        const sellers = sellerResponse.sellers || [];\n        const totalAsins = asins.length || 10;\n        const totalSellers = sellers.length || 1;\n        \n        const avgPrice = asins.length > 0 \n          ? asins.reduce((sum, a) => sum + (a.currentPrice || 50), 0) / asins.length \n          : 50;\n        \n        const productSales = totalAsins * avgPrice * 30 * 12;\n        const shippingRevenue = productSales * 0.06;\n        const adRefunds = productSales * 0.01;\n        const totalSales = productSales + shippingRevenue + adRefunds;\n        \n        const cogs = productSales * 0.42;\n        const fbaFees = productSales * 0.09;\n        const adCosts = productSales * 0.18;\n        const shippingCosts = productSales * 0.07;\n        const returns = productSales * 0.03;\n        const storageFees = productSales * 0.02;\n        const otherExpenses = productSales * 0.01;\n        const totalExpenses = cogs + fbaFees + adCosts + shippingCosts + returns + storageFees + otherExpenses;\n        const grossProfit = totalSales - cogs - fbaFees - shippingCosts - returns;\n        const netProfit = grossProfit - adCosts - storageFees - otherExpenses;\n        const profitMargin = (netProfit / totalSales) * 100;\n        \n        const plData = [\n          { category: 'Product Sales', amount: Math.round(productSales), type: 'income' },\n          { category: 'Shipping Revenue', amount: Math.round(shippingRevenue), type: 'income' },\n          { category: 'Advertising Refunds', amount: Math.round(adRefunds), type: 'income' },\n          { category: 'Total Sales', amount: Math.round(totalSales), type: 'total' },\n          { category: 'Cost of Goods Sold', amount: Math.round(cogs), type: 'expense' },\n          { category: 'Amazon FBA Fees', amount: Math.round(fbaFees), type: 'expense' },\n          { category: 'Advertising Costs', amount: Math.round(adCosts), type: 'expense' },\n          { category: 'Shipping Costs', amount: Math.round(shippingCosts), type: 'expense' },\n          { category: 'Returns & Refunds', amount: Math.round(returns), type: 'expense' },\n          { category: 'Storage Fees', amount: Math.round(storageFees), type: 'expense' },\n          { category: 'Other Expenses', amount: Math.round(otherExpenses), type: 'expense' },\n          { category: 'Total Expenses', amount: Math.round(totalExpenses), type: 'total' },\n          { category: 'Gross Profit', amount: Math.round(grossProfit), type: 'profit' },\n          { category: 'Net Profit', amount: Math.round(netProfit), type: 'profit' },\n          { category: 'Profit Margin', amount: parseFloat(profitMargin.toFixed(1)), type: 'margin' },\n        ];\n        \n        const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n        const monthlyPL = monthNames.map((month, idx) => {\n          const seasonalFactor = 0.7 + (idx / 11) * 0.6;\n          const revenue = Math.round((totalSales / 12) * seasonalFactor);\n          const profit = Math.round(revenue * (profitMargin / 100) * (0.9 + Math.random() * 0.2));\n          return { month, revenue, profit, margin: profitMargin.toFixed(1) };\n        });\n        \n        setData(plData);\n        setMonthlyData(monthlyPL);\n      } catch (error) {\n        console.error('Failed to load P&L data:', error);\n        setData([]);\n        setMonthlyData([]);\n      }\n      setLoading(false);\n    };\n    loadData();\n  }, []);\n\n  const kpis = useMemo(() => {\n    const totalIncome = data.find(d => d.category === 'Total Sales')?.amount || 0;\n    const totalExpenses = data.find(d => d.category === 'Total Expenses')?.amount || 0;\n    const netProfit = data.find(d => d.category === 'Net Profit')?.amount || 0;\n    const profitMargin = data.find(d => d.category === 'Profit Margin')?.amount || 0;\n    \n    return [\n      { title: 'Total Revenue', value: '₹' + totalIncome.toLocaleString(), icon: 'bi-currency-rupee', trend: 12.5, trendType: 'positive' },\n      { title: 'Total Expenses', value: '₹' + totalExpenses.toLocaleString(), icon: 'bi-wallet2', trend: 8.2, trendType: 'negative' },\n      { title: 'Net Profit', value: '₹' + netProfit.toLocaleString(), icon: 'bi-graph-up', trend: 15.7, trendType: 'positive' },\n      { title: 'Profit Margin', value: profitMargin + '%', icon: 'bi-percent', trend: 3.2, trendType: 'positive' },\n    ];\n  }, [data]);\n\n  const handleFilterChange = (newFilters) => {\n    setFilters(prev => ({ ...prev, ...newFilters }));\n  };\n\n  if (loading) {\n    return (\n      <>\n        <header className=\"main-header\">\n          <h1 className=\"page-title\"><i className=\"bi bi-currency-dollar\"></i>Profit & Loss</h1>\n        </header>\n        <div className=\"page-content\">\n          <div className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '400px' }}>\n            <div className=\"loading-spinner\"></div>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <header className=\"main-header\">\n        <h1 className=\"page-title\"><i className=\"bi bi-currency-dollar\"></i>Profit & Loss</h1>\n      </header>\n      <div className=\"page-content\">\n        <Filters filters={filters} onFilterChange={handleFilterChange} showDateRange={true} showSearch={true} />\n        \n        <div className=\"kpi-grid mb-4\">\n          {kpis.map((kpi, idx) => (\n            <KPICard key={idx} title={kpi.title} value={kpi.value} icon={kpi.icon} trend={kpi.trend} trendType={kpi.trendType} />\n          ))}\n        </div>\n\n        <DataTable \n          title=\"Profit & Loss Statement\"\n          data={data}\n          columns={['category', 'amount']}\n          searchable={true}\n          sortable={true}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default ProfitLossPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4691, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/InventoryPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport Filters from '../components/Filters';\nimport DataTable from '../components/DataTable';\nimport KPICard from '../components/KPICard';\nimport { asinApi, sellerApi } from '../services/api';\n\nconst InventoryPage = () => {\n  const [data, setData] = useState([]);\n  const [monthlyData, setMonthlyData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filters, setFilters] = useState({ dateRange: 'thisYear', searchTerm: '', status: 'all' });\n\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      try {\n        const asinResponse = await asinApi.getAll({ limit: 500 });\n        const sellerResponse = await sellerApi.getAll({ limit: 100 });\n        \n        const asins = asinResponse.asins || [];\n        const sellers = sellerResponse.sellers || [];\n        const totalAsins = asins.length || 10;\n        \n        // Generate inventory data based on ASINs from database\n        const productNames = [\n          'Wireless Bluetooth Headphones', 'USB-C Charging Cable', 'Smart Watch Pro', \n          'Laptop Stand Aluminum', 'Mechanical Keyboard RGB', 'Wireless Mouse Ergonomic',\n          'Monitor Light Bar', 'Webcam HD 1080p', 'Desk Organizer Premium', 'Phone Stand Adjustable'\n        ];\n        \n        const inventoryData = asins.length > 0 ? asins.map((asin, idx) => {\n          const quantity = Math.floor(Math.random() * 500);\n          const reserved = Math.floor(quantity * 0.15);\n          const available = quantity - reserved;\n          const reorderPoint = Math.floor(Math.random() * 150) + 50;\n          const status = quantity === 0 ? 'Out of Stock' : quantity < reorderPoint ? 'Low Stock' : 'In Stock';\n          \n          return {\n            sku: `SKU-${String(idx + 1).padStart(3, '0')}`,\n            productName: asin.title || productNames[idx % productNames.length],\n            asin: asin.asin || `B08ABC${String(idx).padStart(3, '0')}`,\n            quantity,\n            reserved,\n            available,\n            reorderPoint,\n            status,\n            turnoverRate: parseFloat((2 + Math.random() * 7).toFixed(1)),\n          };\n        }) : productNames.map((name, idx) => {\n          const quantity = Math.floor(Math.random() * 500);\n          const reserved = Math.floor(quantity * 0.15);\n          const available = quantity - reserved;\n          const reorderPoint = Math.floor(Math.random() * 150) + 50;\n          const status = quantity === 0 ? 'Out of Stock' : quantity < reorderPoint ? 'Low Stock' : 'In Stock';\n          \n          return {\n            sku: `SKU-${String(idx + 1).padStart(3, '0')}`,\n            productName: name,\n            asin: `B08ABC${String(idx).padStart(3, '0')}`,\n            quantity,\n            reserved,\n            available,\n            reorderPoint,\n            status,\n            turnoverRate: parseFloat((2 + Math.random() * 7).toFixed(1)),\n          };\n        });\n        \n        // Generate monthly stock data\n        const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n        const totalUnits = inventoryData.reduce((sum, item) => sum + item.quantity, 0);\n        const monthlyStock = monthNames.map((month, idx) => {\n          const baseStock = totalUnits || 30000;\n          const seasonalGrowth = 1 + (idx / 11) * 0.3;\n          const inflow = Math.round((baseStock / 12) * 1.1 * seasonalGrowth);\n          const outflow = Math.round((baseStock / 12) * 0.95 * seasonalGrowth);\n          const stock = Math.round(baseStock * seasonalGrowth * (0.9 + Math.random() * 0.2));\n          return { month, inflow, outflow, stock };\n        });\n        \n        setData(inventoryData);\n        setMonthlyData(monthlyStock);\n      } catch (error) {\n        console.error('Failed to load inventory data:', error);\n        setData([]);\n        setMonthlyData([]);\n      }\n      setLoading(false);\n    };\n    loadData();\n  }, []);\n\n  const kpis = useMemo(() => {\n    const totalUnits = data.reduce((sum, item) => sum + item.quantity, 0);\n    const availableUnits = data.reduce((sum, item) => sum + item.available, 0);\n    const lowStockCount = data.filter(item => item.status === 'Low Stock').length;\n    const outOfStockCount = data.filter(item => item.status === 'Out of Stock').length;\n    \n    return [\n      { title: 'Total Units', value: totalUnits.toLocaleString(), icon: 'bi-box-seam', trend: 5.2, trendType: 'positive' },\n      { title: 'Available Units', value: availableUnits.toLocaleString(), icon: 'bi-box', trend: 4.8, trendType: 'positive' },\n      { title: 'Low Stock Items', value: lowStockCount.toString(), icon: 'bi-exclamation-triangle', trend: 2, trendType: 'negative' },\n      { title: 'Out of Stock', value: outOfStockCount.toString(), icon: 'bi-x-circle', trend: 1, trendType: 'negative' },\n    ];\n  }, [data]);\n\n  const handleFilterChange = (newFilters) => {\n    setFilters(prev => ({ ...prev, ...newFilters }));\n  };\n\n  const getStatusBadge = (status) => {\n    const statusMap = {\n      'In Stock': { class: 'badge-success', label: 'In Stock' },\n      'Low Stock': { class: 'badge-warning', label: 'Low Stock' },\n      'Out of Stock': { class: 'badge-danger', label: 'Out of Stock' },\n    };\n    const { class: className, label } = statusMap[status] || { class: 'badge-secondary', label: status };\n    return <span className={`badge ${className}`}>{label}</span>;\n  };\n\n  if (loading) {\n    return (\n      <>\n        <header className=\"main-header\">\n          <h1 className=\"page-title\"><i className=\"bi bi-box-seam\"></i>Inventory</h1>\n        </header>\n        <div className=\"page-content\">\n          <div className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '400px' }}>\n            <div className=\"loading-spinner\"></div>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <header className=\"main-header\">\n        <h1 className=\"page-title\"><i className=\"bi bi-box-seam\"></i>Inventory</h1>\n      </header>\n      <div className=\"page-content\">\n        <Filters filters={filters} onFilterChange={handleFilterChange} showDateRange={true} showSearch={true} />\n        \n        <div className=\"kpi-grid mb-4\">\n          {kpis.map((kpi, idx) => (\n            <KPICard key={idx} title={kpi.title} value={kpi.value} icon={kpi.icon} trend={kpi.trend} trendType={kpi.trendType} />\n          ))}\n        </div>\n\n        <DataTable \n          title=\"Inventory Details\"\n          data={data}\n          columns={['sku', 'productName', 'quantity', 'reserved', 'available', 'reorderPoint', 'status', 'turnoverRate']}\n          searchable={true}\n          sortable={true}\n          customRenderers={{\n            status: getStatusBadge,\n          }}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default InventoryPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5068, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/ActionsPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { db } from '../services/db';\nimport ActionListEnhanced from '../components/actions/ActionListEnhanced';\nimport ActionModal from '../components/actions/ActionModal';\nimport ObjectiveManager from '../components/actions/ObjectiveManager';\nimport CompletionModal from '../components/actions/CompletionModal';\nimport ReviewModal from '../components/actions/ReviewModal';\nimport { Plus, CheckCircle, Clock, Calendar, AlertTriangle, List, BarChart2, TrendingUp, ThumbsUp, ThumbsDown } from 'lucide-react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst ActionsPage = () => {\n  const { user: currentUser } = useAuth();\n  const [objectives, setObjectives] = useState([]);\n  const [allActions, setAllActions] = useState([]); // Flatted actions for KPIs\n  const [loading, setLoading] = useState(true);\n  const [isActionModalOpen, setIsActionModalOpen] = useState(false);\n  const [isObjectiveModalOpen, setIsObjectiveModalOpen] = useState(false);\n  const [isCompletionModalOpen, setIsCompletionModalOpen] = useState(false);\n  const [editingAction, setEditingAction] = useState(null);\n  const [completingAction, setCompletingAction] = useState(null);\n  const [reviewingAction, setReviewingAction] = useState(null);\n  const [editingObjective, setEditingObjective] = useState(null);\n  const [isReviewModalOpen, setIsReviewModalOpen] = useState(false);\n  const [viewMode, setViewMode] = useState('STRATEGIC');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [toasts, setToasts] = useState([]);\n  const activeFilter = searchParams.get('filter') || 'ALL';\n  const searchQuery = searchParams.get('q') || '';\n  const selectedKeyResultIdFromUrl = searchParams.get('krId');\n\n  const [selectedKeyResultId, setSelectedKeyResultId] = useState(selectedKeyResultIdFromUrl); // Track target KR for new action\n  const [users, setUsers] = useState([]);\n  const [asins, setAsins] = useState([]);\n\n  // KPI States\n  const [kpis, setKpis] = useState({\n    all: 0,\n    todo: 0,\n    overdue: 0,\n    tomorrow: 0,\n    upcoming: 0,\n    status: {\n      pending: 0,\n      inProgress: 0,\n      review: 0,\n      completed: 0\n    }\n  });\n\n  const navigate = useNavigate();\n\n  const loadData = async () => {\n    setLoading(true);\n    try {\n      // Fetch Objectives with full hierarchy\n      const objectivesData = await db.getObjectives();\n      const loadedObjectives = objectivesData?.data || objectivesData || [];\n\n      setObjectives(loadedObjectives);\n      calculateKPIs(loadedObjectives);\n\n      // Fetch Users & ASINs for assignment/tagging\n      const usersRes = await db.getUsers();\n      if (usersRes && usersRes.success !== false) {\n        const usersList = Array.isArray(usersRes) ? usersRes : (usersRes.data?.users || usersRes.data || []);\n        setUsers(Array.isArray(usersList) ? usersList : []);\n      }\n\n      const asinsRes = await db.getAsins();\n      if (asinsRes && asinsRes.success !== false) setAsins(Array.isArray(asinsRes) ? asinsRes : asinsRes.asins || asinsRes.data || []);\n\n    } catch (error) {\n      console.error('Failed to load OKR data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addToast = (message, type = 'success') => {\n    const id = Date.now();\n    setToasts(prev => [...prev, { id, message, type }]);\n    setTimeout(() => {\n      setToasts(prev => prev.filter(t => t.id !== id));\n    }, 5000);\n  };\n\n  const calculateKPIs = (objs) => {\n    const actions = [];\n\n    // Flatten actions from hierarchy\n    objs.forEach(obj => {\n      if (obj.keyResults) {\n        obj.keyResults.forEach(kr => {\n          if (kr.actions) {\n            actions.push(...kr.actions);\n          }\n        });\n      }\n    });\n\n    // Also fetch orphan actions if needed (omitted for now to focus on OKRs)\n    setAllActions(actions);\n\n    const now = new Date();\n    const tomorrow = new Date();\n    tomorrow.setDate(now.getDate() + 1);\n    tomorrow.setHours(0, 0, 0, 0);\n    const dayAfter = new Date(tomorrow);\n    dayAfter.setDate(tomorrow.getDate() + 1);\n\n    const counts = {\n      all: actions.length,\n      todo: 0,\n      overdue: 0,\n      tomorrow: 0,\n      upcoming: 0,\n      status: {\n        pending: 0,\n        inProgress: 0,\n        review: 0,\n        completed: 0\n      }\n    };\n\n    actions.forEach(a => {\n      // Status Counts\n      const statusKey = a.status === 'IN_PROGRESS' ? 'inProgress' : a.status.toLowerCase();\n      if (counts.status[statusKey] !== undefined) {\n        counts.status[statusKey]++;\n      }\n\n      // High Level KPIs\n      if (a.status !== 'COMPLETED') {\n        counts.todo++;\n\n        if (a.timeTracking?.deadline) {\n          const deadline = new Date(a.timeTracking.deadline);\n          if (deadline < now) counts.overdue++;\n          else if (deadline >= tomorrow && deadline < dayAfter) counts.tomorrow++;\n          else if (deadline >= dayAfter) counts.upcoming++;\n        }\n      }\n    });\n\n    setKpis(counts);\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const handleCreateObjective = () => {\n    setEditingObjective(null);\n    setIsObjectiveModalOpen(true);\n  };\n\n  const handleCreateAction = () => {\n    setEditingAction(null);\n    setIsActionModalOpen(true);\n  };\n\n  const handleEdit = (item, type = 'ACTION') => {\n    if (type === 'ACTION') {\n      setEditingAction(item);\n      setIsActionModalOpen(true);\n    } else if (type === 'OBJECTIVE') {\n      setEditingObjective(item);\n      setIsObjectiveModalOpen(true);\n    } else if (type === 'KR') {\n      // For now, toggle simple prompt or implementation later\n      const newTitle = prompt('Update Key Result Title:', item.title);\n      if (newTitle) {\n        db.updateKeyResult(item._id || item.id, { title: newTitle }).then(() => loadData());\n      }\n    }\n  };\n\n  const handleDelete = async (id, type = 'ACTION') => {\n    if (!window.confirm(`Are you sure you want to delete this ${type.toLowerCase()}? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      if (type === 'ACTION') {\n        await db.deleteAction(id);\n      } else if (type === 'OBJECTIVE') {\n        await db.deleteObjective(id);\n      } else if (type === 'KR') {\n        await db.deleteKeyResult(id);\n      }\n      loadData();\n    } catch (error) {\n      console.error(`Failed to delete ${type}`, error);\n    }\n  };\n\n  const handleAddActionForKR = (krId) => {\n    setSelectedKeyResultId(krId);\n    setEditingAction(null); // Ensure we are creating new\n    setIsActionModalOpen(true);\n  };\n\n  const handleSaveAction = async (data) => {\n    try {\n      if (data._id || data.id) {\n        await db.updateAction(data._id || data.id, data);\n      } else {\n        await db.createAction(data);\n      }\n      setIsActionModalOpen(false);\n      loadData(); // Reload to refresh KPIs and hierarchy\n      setSelectedKeyResultId(null); // Reset\n    } catch (error) {\n      console.error('Failed to save action', error);\n    }\n  };\n\n  const handleDeleteAction = async (id) => {\n    if (confirm('Delete this action?')) {\n      await db.deleteAction(id);\n      loadData();\n    }\n  };\n\n  // Forward start/complete handlers to ActionListEnhanced (which handles API calls generally, but here likely needs reload)\n  // Actually ActionListEnhanced has handlers, but we might want to refresh KPIs after status change\n  const refreshData = () => {\n    loadData();\n  };\n\n  const handleStartTask = async (action) => {\n    const id = action?._id || action?.id || action;\n    try {\n      await db.startAction(id);\n      loadData();\n    } catch (error) {\n      console.error('Failed to start task:', error);\n    }\n  };\n\n  const handleCompleteTask = async (action, data) => {\n    const id = action?._id || action?.id || action;\n    try {\n      setLoading(true);\n      await db.completeAction(id, data);\n      setIsCompletionModalOpen(false);\n      setCompletingAction(null);\n      loadData();\n    } catch (error) {\n      console.error('Failed to complete task:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubmitForReview = (action) => {\n    setCompletingAction(action);\n    setIsCompletionModalOpen(true);\n  };\n\n  const handleCompletionSubmit = async (actionId, data) => {\n    try {\n      setLoading(true);\n\n      // Distinguish between direct completion and review submission based on modal data\n      if (data.stage === 'REVIEW') {\n        await db.submitActionForReview(actionId, data);\n      } else {\n        await db.completeAction(actionId, data);\n      }\n\n      setIsCompletionModalOpen(false);\n      setCompletingAction(null);\n      loadData();\n    } catch (error) {\n      console.error('Failed to process task completion:', error);\n      alert('Action failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleReviewAction = async (action, decision, comments) => {\n    if (!action) return;\n\n    try {\n      setLoading(true);\n      await db.reviewAction(action._id || action.id, { decision, comments });\n      await loadData();\n\n      if (decision === 'APPROVE') {\n        addToast(`Task \"${action.title}\" approved successfully!`, 'success');\n      } else {\n        addToast(`Task \"${action.title}\" rejected and moved back to pending.`, 'danger');\n      }\n\n      return true;\n    } catch (error) {\n      console.error('Failed to review action:', error);\n      addToast('Review failed. Please try again.', 'danger');\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openReviewModal = (action) => {\n    setReviewingAction(action);\n    setIsReviewModalOpen(true);\n  };\n\n  const handleAISuggest = async (kr) => {\n    try {\n      setLoading(true);\n      const result = await db.getAISuggestions(kr.title);\n\n      if (result && result.success && result.data) {\n        console.log('AI Suggestions Received:', result.data);\n        const tasks = Array.isArray(result.data) ? result.data : (result.data.tasks || []);\n\n        const taskPromises = tasks.map(task => {\n          return db.createAction({\n            title: task.title || task.name || 'Suggested Task',\n            type: task.type || 'GENERAL_OPTIMIZATION',\n            priority: task.priority || 'MEDIUM',\n            keyResultId: kr.id || kr._id,\n            status: 'PENDING',\n            description: task.description || `AI suggested task for: ${kr.title}`\n          });\n        });\n\n        await Promise.all(taskPromises);\n        loadData(); // Reload to show new tasks\n      }\n    } catch (error) {\n      console.error('AI Suggestion failed', error);\n      alert('AI Suggestion failed. Please ensure your API key is configured.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFilterClick = (filterType) => {\n    const newFilter = activeFilter === filterType ? 'ALL' : filterType;\n    setSearchParams(prev => {\n      if (newFilter === 'ALL') {\n        prev.delete('filter');\n      } else {\n        prev.set('filter', newFilter);\n      }\n      return prev;\n    });\n  };\n\n  const handleSearchChange = (query) => {\n    setSearchParams(prev => {\n      if (!query) {\n        prev.delete('q');\n      } else {\n        prev.set('q', query);\n      }\n      return prev;\n    });\n  };\n\n\n  return (\n    <div className=\"container-fluid p-0\">\n      {/* Header Area */}\n      <div className=\"d-flex justify-content-between align-items-center mb-5 mt-4\">\n        <div>\n          <h1 className=\"fw-700 mb-1\" style={{ fontSize: '2rem', letterSpacing: '-0.02em', color: '#1e293b' }}>\n            Action <span className=\"text-primary\">Operations</span> Hub\n          </h1>\n          <p className=\"text-muted mb-0\">Strategic Performance & Tactical Oversight</p>\n        </div>\n\n\n        <div className=\"d-flex align-items-center gap-3\">\n          <div className=\"btn-group p-1 bg-white border shadow-sm rounded-pill\">\n            <button\n              onClick={() => setViewMode('STRATEGIC')}\n              className={`btn btn-sm px-3 rounded-pill border-0 transition-all ${viewMode === 'STRATEGIC' ? 'btn-primary shadow-sm' : 'text-muted hover-bg-light'}`}\n              style={{ fontSize: '12px', fontWeight: '600' }}\n            >\n              <TrendingUp size={14} className=\"me-1\" /> Strategic\n            </button>\n            <button\n              onClick={() => setViewMode('OPERATIONS')}\n              className={`btn btn-sm px-3 rounded-pill border-0 transition-all ${viewMode === 'OPERATIONS' ? 'btn-primary shadow-sm' : 'text-muted hover-bg-light'}`}\n              style={{ fontSize: '12px', fontWeight: '600' }}\n            >\n              <List size={14} className=\"me-1\" /> Operations\n            </button>\n          </div>\n\n          <div className=\"vr mx-1 opacity-25\" style={{ height: '32px' }}></div>\n\n          <button onClick={handleCreateAction} className=\"btn btn-light d-flex align-items-center gap-2 rounded-pill px-3 shadow-sm border-0\">\n            <Plus size={18} /> Quick Task\n          </button>\n          <button onClick={handleCreateObjective} className=\"btn btn-primary d-flex align-items-center gap-2 rounded-pill px-4 shadow-sm\">\n            <BarChart2 size={18} /> New Objective\n          </button>\n        </div>\n      </div>\n\n      {/* KPI Dashboard - Compact Dot Badges */}\n      <div className=\"d-flex flex-wrap gap-2 mb-4\">\n        <div\n          onClick={() => handleFilterClick('ALL')}\n          className={`d-flex align-items-center gap-2 px-3 py-1 rounded-pill border cursor-pointer transition-all ${activeFilter === 'ALL' ? 'bg-primary text-white border-primary' : 'bg-white border-light-subtle shadow-sm'}`}\n          style={{ fontSize: '13px', fontWeight: '500' }}\n        >\n          <div style={{ width: '8px', height: '8px', borderRadius: '50%', backgroundColor: activeFilter === 'ALL' ? 'white' : '#6c757d' }}></div>\n          <span className={activeFilter === 'ALL' ? 'text-white' : 'text-muted text-uppercase'} style={{ fontSize: '11px', letterSpacing: '0.05em' }}>All</span>\n          <span className=\"fw-bold\">{kpis.all}</span>\n        </div>\n\n        <div\n          onClick={() => handleFilterClick('TODO')}\n          className={`d-flex align-items-center gap-2 px-3 py-1 rounded-pill border cursor-pointer transition-all ${activeFilter === 'TODO' ? 'bg-primary-subtle border-primary' : 'bg-white border-light-subtle shadow-sm'}`}\n          style={{ fontSize: '13px', fontWeight: '500' }}\n        >\n          <div style={{ width: '8px', height: '8px', borderRadius: '50%', backgroundColor: '#0d6efd' }}></div>\n          <span className=\"text-muted text-uppercase\" style={{ fontSize: '11px', letterSpacing: '0.05em' }}>To Do</span>\n          <span className=\"fw-bold\">{kpis.todo}</span>\n        </div>\n\n        <div\n          onClick={() => handleFilterClick('OVERDUE')}\n          className={`d-flex align-items-center gap-2 px-3 py-1 rounded-pill border cursor-pointer transition-all ${activeFilter === 'OVERDUE' ? 'bg-danger-subtle border-danger' : 'bg-white border-light-subtle shadow-sm'}`}\n          style={{ fontSize: '13px', fontWeight: '500' }}\n        >\n          <div style={{ width: '8px', height: '8px', borderRadius: '50%', backgroundColor: '#dc3545' }}></div>\n          <span className=\"text-danger text-uppercase\" style={{ fontSize: '11px', letterSpacing: '0.05em' }}>Overdue</span>\n          <span className=\"fw-bold text-danger\">{kpis.overdue}</span>\n        </div>\n\n        <div\n          onClick={() => handleFilterClick('TOMORROW')}\n          className={`d-flex align-items-center gap-2 px-3 py-1 rounded-pill border cursor-pointer transition-all ${activeFilter === 'TOMORROW' ? 'bg-warning-subtle border-warning' : 'bg-white border-light-subtle shadow-sm'}`}\n          style={{ fontSize: '13px', fontWeight: '500' }}\n        >\n          <div style={{ width: '8px', height: '8px', borderRadius: '50%', backgroundColor: '#ffc107' }}></div>\n          <span className=\"text-warning-emphasis text-uppercase\" style={{ fontSize: '11px', letterSpacing: '0.05em' }}>Tomorrow</span>\n          <span className=\"fw-bold\">{kpis.tomorrow}</span>\n        </div>\n\n        <div\n          onClick={() => handleFilterClick('UPCOMING')}\n          className={`d-flex align-items-center gap-2 px-3 py-1 rounded-pill border cursor-pointer transition-all ${activeFilter === 'UPCOMING' ? 'bg-info-subtle border-info' : 'bg-white border-light-subtle shadow-sm'}`}\n          style={{ fontSize: '13px', fontWeight: '500' }}\n        >\n          <div style={{ width: '8px', height: '8px', borderRadius: '50%', backgroundColor: '#0dcaf0' }}></div>\n          <span className=\"text-info-emphasis text-uppercase\" style={{ fontSize: '11px', letterSpacing: '0.05em' }}>Upcoming</span>\n          <span className=\"fw-bold\">{kpis.upcoming}</span>\n        </div>\n\n        <div className=\"mx-1 border-end\" style={{ height: '24px' }}></div>\n\n        <div\n          onClick={() => handleFilterClick('PENDING')}\n          className={`d-flex align-items-center gap-2 px-3 py-1 rounded-pill border cursor-pointer transition-all ${activeFilter === 'PENDING' ? 'bg-warning-subtle border-warning' : 'bg-white border-light-subtle shadow-sm'}`}\n          style={{ fontSize: '13px', fontWeight: '500' }}\n        >\n          <div style={{ width: '8px', height: '8px', borderRadius: '50%', backgroundColor: '#ffc107' }}></div>\n          <span className=\"text-warning-emphasis text-uppercase\" style={{ fontSize: '11px', letterSpacing: '0.05em' }}>Pending</span>\n          <span className=\"fw-bold\">{kpis.status.pending}</span>\n        </div>\n\n        <div\n          onClick={() => handleFilterClick('IN_PROGRESS')}\n          className={`d-flex align-items-center gap-2 px-3 py-1 rounded-pill border cursor-pointer transition-all ${activeFilter === 'IN_PROGRESS' ? 'bg-primary-subtle border-primary' : 'bg-white border-light-subtle shadow-sm'}`}\n          style={{ fontSize: '13px', fontWeight: '500' }}\n        >\n          <div style={{ width: '8px', height: '8px', borderRadius: '50%', backgroundColor: '#0d6efd' }}></div>\n          <span className=\"text-primary text-uppercase\" style={{ fontSize: '11px', letterSpacing: '0.05em' }}>In Progress</span>\n          <span className=\"fw-bold\">{kpis.status.inProgress}</span>\n        </div>\n\n        <div\n          onClick={() => handleFilterClick('REVIEW')}\n          className={`d-flex align-items-center gap-2 px-3 py-1 rounded-pill border cursor-pointer transition-all ${activeFilter === 'REVIEW' ? 'bg-info-subtle border-info' : 'bg-white border-light-subtle shadow-sm'}`}\n          style={{ fontSize: '13px', fontWeight: '500' }}\n        >\n          <div style={{ width: '8px', height: '8px', borderRadius: '50%', backgroundColor: '#0dcaf0' }}></div>\n          <span className=\"text-info text-uppercase\" style={{ fontSize: '11px', letterSpacing: '0.05em' }}>Review</span>\n          <span className=\"fw-bold\">{kpis.status.review}</span>\n        </div>\n\n        <div\n          onClick={() => handleFilterClick('COMPLETED')}\n          className={`d-flex align-items-center gap-2 px-3 py-1 rounded-pill border cursor-pointer transition-all ${activeFilter === 'COMPLETED' ? 'bg-success-subtle border-success' : 'bg-white border-light-subtle shadow-sm'}`}\n          style={{ fontSize: '13px', fontWeight: '500' }}\n        >\n          <div style={{ width: '8px', height: '8px', borderRadius: '50%', backgroundColor: '#198754' }}></div>\n          <span className=\"text-success text-uppercase\" style={{ fontSize: '11px', letterSpacing: '0.05em' }}>Completed</span>\n          <span className=\"fw-bold\">{kpis.status.completed}</span>\n        </div>\n\n        <div className=\"ms-auto\">\n          <button\n            onClick={() => navigate('/actions/achievement-report')}\n            className=\"btn btn-sm btn-outline-primary rounded-pill px-3 d-flex align-items-center gap-2\"\n            style={{ fontSize: '12px', fontWeight: '600' }}\n          >\n            <TrendingUp size={14} /> Performance Report\n          </button>\n        </div>\n      </div>\n\n\n      {/* Strategic Objectives List */}\n      {\n        loading ? (\n          <div className=\"text-center py-5\">\n            <div className=\"spinner-border text-primary\" role=\"status\">\n              <span className=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n        ) : (\n          <ActionListEnhanced\n            objectives={objectives}\n            actions={allActions}\n            loading={loading}\n            activeFilter={activeFilter}\n            searchQuery={searchQuery}\n            currentUser={currentUser}\n            onSearchChange={handleSearchChange}\n            onEdit={handleEdit}\n            onAddAction={handleAddActionForKR}\n            onAISuggest={handleAISuggest}\n            onDelete={handleDelete}\n            onStartTask={handleStartTask}\n            onCompleteTask={handleCompleteTask}\n            onSubmitForReview={handleSubmitForReview}\n            onReviewAction={(action) => openReviewModal(action)}\n            viewMode={viewMode}\n          />\n        )\n      }\n\n      {/* Modals */}\n      {\n        isObjectiveModalOpen && (\n          <div className=\"modal show d-block\" style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\n            <div className=\"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable\">\n              <div className=\"modal-content border-0 shadow-lg\" style={{ borderRadius: '16px' }}>\n                <ObjectiveManager\n                  objective={editingObjective}\n                  users={users}\n                  onClose={() => {\n                    setIsObjectiveModalOpen(false);\n                    setEditingObjective(null);\n                  }}\n                  onObjectiveCreated={() => {\n                    setIsObjectiveModalOpen(false);\n                    setEditingObjective(null);\n                    loadData();\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        )\n      }\n\n      <ActionModal\n        isOpen={isActionModalOpen}\n        onClose={() => {\n          setIsActionModalOpen(false);\n          setEditingAction(null);\n          setSelectedKeyResultId(null);\n        }}\n        onSave={handleSaveAction}\n        action={editingAction}\n        currentUser={currentUser}\n        asins={asins}\n        users={users}\n        initialKeyResultId={selectedKeyResultId}\n      />\n\n      <ReviewModal\n        isOpen={isReviewModalOpen}\n        action={reviewingAction}\n        onClose={() => {\n          setIsReviewModalOpen(false);\n          setReviewingAction(null);\n        }}\n        onReview={handleReviewAction}\n      />\n\n      {isCompletionModalOpen && completingAction && (\n        <CompletionModal\n          isOpen={isCompletionModalOpen}\n          action={completingAction}\n          onClose={() => {\n            setIsCompletionModalOpen(false);\n            setCompletingAction(null);\n          }}\n          onComplete={handleCompletionSubmit}\n        />\n      )}\n\n      {/* Toast Container */}\n      <div className=\"toast-container position-fixed bottom-0 end-0 p-4\" style={{ zIndex: 2000 }}>\n        {toasts.map(toast => (\n          <div\n            key={toast.id}\n            className={`toast show align-items-center text-white bg-${toast.type} border-0 mb-2 shadow-lg animate-slide-in`}\n            role=\"alert\"\n            aria-live=\"assertive\"\n            aria-atomic=\"true\"\n            style={{ borderRadius: '12px', minWidth: '300px' }}\n          >\n            <div className=\"d-flex\">\n              <div className=\"toast-body d-flex align-items-center gap-3 py-3\">\n                {toast.type === 'success' ? <ThumbsUp size={18} /> : <AlertTriangle size={18} />}\n                <span className=\"fw-medium\">{toast.message}</span>\n              </div>\n              <button\n                type=\"button\"\n                className=\"btn-close btn-close-white me-2 m-auto\"\n                onClick={() => setToasts(prev => prev.filter(t => t.id !== toast.id))}\n              ></button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <style>{`\n        .animate-slide-in {\n          animation: slideIn 0.3s ease-out forwards;\n        }\n        @keyframes slideIn {\n          from { transform: translateX(100%); opacity: 0; }\n          to { transform: translateX(0); opacity: 1; }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ActionsPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6292, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/SettingsPage.jsx"],"sourcesContent":["import { db } from '../services/db';\n\nconst SettingsPage = () => {\n  const [settings, setSettings] = useState({\n    octoparseApiKey: '',\n    octoparseTaskId: '',\n    scrapePollInterval: '300000',\n    smtpHost: '',\n    smtpPort: '',\n    smtpUser: '',\n    smtpPass: '',\n    smtpSecure: 'tls',\n    notifications: true,\n    emailReports: false,\n  });\n  const [loading, setLoading] = useState(true);\n  const [saved, setSaved] = useState(false);\n  const [testingOctoparse, setTestingOctoparse] = useState(false);\n  const [testResult, setTestResult] = useState(null);\n\n  useEffect(() => {\n    loadSettings();\n  }, []);\n\n  const loadSettings = async () => {\n    setLoading(true);\n    try {\n      const dbSettings = await db.getSettings();\n      if (dbSettings && Object.keys(dbSettings).length > 0) {\n        setSettings(prev => ({\n          ...prev,\n          ...dbSettings\n        }));\n      }\n    } catch (error) {\n      console.error('Failed to load settings:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setSettings(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  const handleSave = async () => {\n    try {\n      await db.updateSettings(settings);\n      setSaved(true);\n      setTimeout(() => setSaved(false), 3000);\n    } catch (error) {\n      alert('Failed to save settings: ' + error.message);\n    }\n  };\n\n  const handleTestOctoparse = async () => {\n    setTestingOctoparse(true);\n    setTestResult(null);\n\n    // Simulate Octoparse API test\n    await new Promise(resolve => setTimeout(resolve, 2000));\n\n    if (settings.octoparseApiKey && settings.octoparseTaskId) {\n      setTestResult({ success: true, message: 'Octoparse API connection successful!' });\n    } else {\n      setTestResult({ success: false, message: 'Please enter both API Key and Task ID' });\n    }\n\n    setTestingOctoparse(false);\n  };\n\n  return (\n    <>\n      <header className=\"main-header\">\n        <h1 className=\"page-title\"><i className=\"bi bi-gear\"></i>Settings</h1>\n      </header>\n      <div className=\"page-content\">\n        <div className=\"row\">\n          <div className=\"col-lg-8\">\n            {/* Octoparse API Settings */}\n            <div className=\"card mb-4\">\n              <div className=\"card-header\">\n                <h5 className=\"mb-0\"><i className=\"bi bi-cloud\"></i> Octoparse Cloud API</h5>\n              </div>\n              <div className=\"card-body\">\n                <p className=\"text-muted mb-3\">\n                  Configure Octoparse Cloud API for Amazon product data scraping.\n                  Get your API key from <a href=\"https://www.octoparse.com\" target=\"_blank\" rel=\"noopener noreferrer\">octoparse.com</a>\n                </p>\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">API Key</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    name=\"octoparseApiKey\"\n                    value={settings.octoparseApiKey}\n                    onChange={handleChange}\n                    placeholder=\"Enter your Octoparse API key\"\n                  />\n                </div>\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">Task ID</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"octoparseTaskId\"\n                    value={settings.octoparseTaskId}\n                    onChange={handleChange}\n                    placeholder=\"Enter your Octoparse Task ID\"\n                  />\n                  <div className=\"form-text\">The Task ID from your Octoparse Cloud Amazon scraping task</div>\n                </div>\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">Poll Interval (ms)</label>\n                  <input\n                    type=\"number\"\n                    className=\"form-control\"\n                    name=\"scrapePollInterval\"\n                    value={settings.scrapePollInterval}\n                    onChange={handleChange}\n                    placeholder=\"300000\"\n                  />\n                  <div className=\"form-text\">How often to check scrape status (default: 300000 = 5 minutes)</div>\n                </div>\n                <div className=\"d-flex gap-2\">\n                  <button\n                    className=\"btn btn-outline-primary\"\n                    onClick={handleTestOctoparse}\n                    disabled={testingOctoparse}\n                  >\n                    {testingOctoparse ? (\n                      <>\n                        <span className=\"spinner-border spinner-border-sm me-2\"></span>\n                        Testing...\n                      </>\n                    ) : (\n                      <>\n                        <i className=\"bi bi-plug me-1\"></i>Test Connection\n                      </>\n                    )}\n                  </button>\n                  {testResult && (\n                    <div className={`alert ${testResult.success ? 'alert-success' : 'alert-danger'} mb-0 py-2 px-3`}>\n                      {testResult.message}\n                    </div>\n                  )}\n                </div>\n                <div className=\"alert alert-info mt-3\">\n                  <i className=\"bi bi-info-circle me-2\"></i>\n                  Octoparse Cloud API is used to scrape Amazon product pages for prices, rankings, reviews, and more.\n                </div>\n              </div>\n            </div>\n\n            {/* SMTP Settings */}\n            <div className=\"card mb-4\">\n              <div className=\"card-header\">\n                <h5 className=\"mb-0\"><i className=\"bi bi-envelope\"></i> Email Notification Settings (SMTP)</h5>\n              </div>\n              <div className=\"card-body\">\n                <p className=\"text-muted mb-3\">\n                  Configure SMTP settings for email notifications and reports.\n                </p>\n                <div className=\"row\">\n                  <div className=\"col-md-6 mb-3\">\n                    <label className=\"form-label\">SMTP Host</label>\n                    <input\n                      type=\"text\"\n                      className=\"form-control\"\n                      name=\"smtpHost\"\n                      value={settings.smtpHost}\n                      onChange={handleChange}\n                      placeholder=\"smtp.example.com\"\n                    />\n                  </div>\n                  <div className=\"col-md-3 mb-3\">\n                    <label className=\"form-label\">Port</label>\n                    <input\n                      type=\"text\"\n                      className=\"form-control\"\n                      name=\"smtpPort\"\n                      value={settings.smtpPort}\n                      onChange={handleChange}\n                      placeholder=\"587\"\n                    />\n                  </div>\n                  <div className=\"col-md-3 mb-3\">\n                    <label className=\"form-label\">Security</label>\n                    <select\n                      className=\"form-select\"\n                      name=\"smtpSecure\"\n                      value={settings.smtpSecure}\n                      onChange={handleChange}\n                    >\n                      <option value=\"tls\">TLS (STARTTLS)</option>\n                      <option value=\"ssl\">SSL (Implicit)</option>\n                    </select>\n                  </div>\n                </div>\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">Username</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"smtpUser\"\n                    value={settings.smtpUser}\n                    onChange={handleChange}\n                    placeholder=\"your@email.com\"\n                  />\n                </div>\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    name=\"smtpPass\"\n                    value={settings.smtpPass}\n                    onChange={handleChange}\n                    placeholder=\"Enter email password\"\n                  />\n                  <div className=\"form-text\">For Gmail, use a 16-character App Password.</div>\n                </div>\n                <button\n                  className=\"btn btn-outline-primary btn-sm\"\n                  onClick={async () => {\n                    const email = prompt(\"Enter email to send test to:\", settings.smtpUser);\n                    if (email) {\n                      try {\n                        const res = await db.request('/settings/test-email', {\n                          method: 'POST',\n                          body: JSON.stringify({ to: email })\n                        });\n                        alert(res?.success ? \"Test email sent successfully!\" : \"Failed to send test email: \" + res?.message);\n                      } catch (err) {\n                        alert(\"Error: \" + err.message);\n                      }\n                    }\n                  }}\n                >\n                  <i className=\"bi bi-send me-1\"></i> Send Test Email\n                </button>\n              </div>\n            </div>\n\n            {/* Notification Preferences */}\n            <div className=\"card mb-4\">\n              <div className=\"card-header\">\n                <h5 className=\"mb-0\"><i className=\"bi bi-bell\"></i> Notification Preferences</h5>\n              </div>\n              <div className=\"card-body\">\n                <div className=\"form-check form-switch mb-3\">\n                  <input\n                    className=\"form-check-input\"\n                    type=\"checkbox\"\n                    id=\"notifications\"\n                    name=\"notifications\"\n                    checked={settings.notifications}\n                    onChange={handleChange}\n                  />\n                  <label className=\"form-check-label\" htmlFor=\"notifications\">\n                    Enable in-app notifications\n                  </label>\n                </div>\n                <div className=\"form-check form-switch mb-3\">\n                  <input\n                    className=\"form-check-input\"\n                    type=\"checkbox\"\n                    id=\"emailReports\"\n                    name=\"emailReports\"\n                    checked={settings.emailReports}\n                    onChange={handleChange}\n                  />\n                  <label className=\"form-check-label\" htmlFor=\"emailReports\">\n                    Receive daily email reports\n                  </label>\n                </div>\n              </div>\n            </div>\n\n            {/* Save Button */}\n            <div className=\"d-flex justify-content-end\">\n              {saved && (\n                <div className=\"alert alert-success me-3 mb-0 d-flex align-items-center\">\n                  <i className=\"bi bi-check-circle me-2\"></i>\n                  Settings saved successfully!\n                </div>\n              )}\n              <button className=\"btn btn-primary\" onClick={handleSave}>\n                <i className=\"bi bi-check-lg me-2\"></i>\n                Save Settings\n              </button>\n            </div>\n          </div>\n\n          <div className=\"col-lg-4\">\n            {/* Account Info */}\n            <div className=\"card mb-4\">\n              <div className=\"card-header\">\n                <h5 className=\"mb-0\"><i className=\"bi bi-person-badge\"></i> Account</h5>\n              </div>\n              <div className=\"card-body\">\n                <div className=\"mb-3\">\n                  <label className=\"text-muted\">Plan</label>\n                  <div className=\"fw-semibold\">Pro</div>\n                </div>\n                <div className=\"mb-3\">\n                  <label className=\"text-muted\">Scrape Tasks Today</label>\n                  <div className=\"fw-semibold\">0 / 10</div>\n                  <div className=\"progress mt-1\" style={{ height: '6px' }}>\n                    <div className=\"progress-bar\" style={{ width: '0%' }}></div>\n                  </div>\n                </div>\n                <div className=\"mb-3\">\n                  <label className=\"text-muted\">ASINs Tracked</label>\n                  <div className=\"fw-semibold\">6 / 1000</div>\n                </div>\n              </div>\n            </div>\n\n            {/* Octoparse Task Setup */}\n            <div className=\"card mb-4\">\n              <div className=\"card-header\">\n                <h5 className=\"mb-0\"><i className=\"bi bi-question-circle\"></i> Task Setup Help</h5>\n              </div>\n              <div className=\"card-body\">\n                <p className=\"text-muted small mb-2\">Create an Octoparse task with these XPaths:</p>\n                <div className=\"list-group list-group-flush small\">\n                  <div className=\"list-group-item\">Title: <code>//*[@id=\"productTitle\"]</code></div>\n                  <div className=\"list-group-item\">Price: <code>//*[@id=\"corePriceDisplay_desktop_feature_div\"]/div[1]/span[3]</code></div>\n                  <div className=\"list-group-item\">Rating: <code>//*[@id=\"averageCustomerReviews\"]</code></div>\n                  <div className=\"list-group-item\">Rank: <code>//*[@id=\"detailBullets_feature_div\"]/ul/li[15]/span</code></div>\n                  <div className=\"list-group-item\">Reviews: <code>//*[@id=\"cm_cr_dp_d_rating_histogram\"]</code></div>\n                </div>\n              </div>\n            </div>\n\n            {/* Help */}\n            <div className=\"card\">\n              <div className=\"card-header\">\n                <h5 className=\"mb-0\"><i className=\"bi bi-life-preserver\"></i> Support</h5>\n              </div>\n              <div className=\"card-body\">\n                <div className=\"list-group list-group-flush\">\n                  <a href=\"#\" className=\"list-group-item list-group-item-action\">\n                    <i className=\"bi bi-book me-2\"></i> Documentation\n                  </a>\n                  <a href=\"#\" className=\"list-group-item list-group-item-action\">\n                    <i className=\"bi bi-chat-dots me-2\"></i> Contact Support\n                  </a>\n                  <a href=\"https://www.octoparse.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"list-group-item list-group-item-action\">\n                    <i className=\"bi bi-cloud me-2\"></i> Octoparse Dashboard\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SettingsPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7473, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/ScrapeTasksPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport KPICard from '../components/KPICard';\nimport { sellerApi, asinApi } from '../services/api';\nimport octoparseService from '../services/octoparseService';\n\nconst ScrapeTasksPage = () => {\n  const [tasks, setTasks] = useState([]);\n  const [sellers, setSellers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [showResults, setShowResults] = useState(false);\n  const [results, setResults] = useState([]);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [selectedSellerId, setSelectedSellerId] = useState('');\n  const [scrapeType, setScrapeType] = useState('all');\n  const [creating, setCreating] = useState(false);\n  const [sellerAsins, setSellerAsins] = useState([]);\n\n  const loadTasks = async () => {\n    setLoading(true);\n    try {\n      const response = await octoparseService.getScrapeTasks(1, 50);\n      setTasks(response.tasks);\n    } catch (error) {\n      console.error('Failed to load tasks:', error);\n    }\n    setLoading(false);\n  };\n\n  const loadSellers = async () => {\n    try {\n      const response = await sellerApi.getAll();\n      setSellers(response.sellers);\n    } catch (error) {\n      console.error('Failed to load sellers:', error);\n    }\n  };\n\n  const loadSellerAsins = async (sellerId) => {\n    try {\n      const asins = await asinApi.getBySeller(sellerId);\n      setSellerAsins(asins);\n    } catch (error) {\n      console.error('Failed to load ASINs:', error);\n      setSellerAsins([]);\n    }\n  };\n\n  useEffect(() => {\n    loadTasks();\n    loadSellers();\n  }, []);\n\n  const handleCreateTask = async () => {\n    if (!selectedSellerId) return;\n    \n    setCreating(true);\n    try {\n      const seller = sellers.find(s => s._id === selectedSellerId);\n      if (!seller) return;\n      \n      // Get ASINs based on scrape type\n      let asins = [];\n      if (sellerAsins.length > 0) {\n        asins = sellerAsins.map(a => a.asinCode);\n      } else {\n        // If no ASINs in DB, use demo ASINs\n        asins = ['B07XYZ123', 'B07ABC456', 'B07DEF789', 'B07GHI012', 'B07JKL345'];\n      }\n      \n      if (asins.length === 0) {\n        alert('No ASINs found for this seller. Please add ASINs in the Sellers page first.');\n        setCreating(false);\n        return;\n      }\n      \n      const result = await octoparseService.startScrapeTask(asins, seller.marketplace);\n      \n      // Add seller info to the task\n      const updatedTasks = [{\n        ...result,\n        sellerName: seller.name,\n        sellerId: seller.sellerId,\n        asinsCount: asins.length,\n        scrapeType,\n        createdAt: new Date().toISOString(),\n      }, ...tasks];\n      \n      setTasks(updatedTasks);\n      setShowCreateModal(false);\n      setSelectedSellerId('');\n      setSellerAsins([]);\n      setScrapeType('all');\n      \n      alert(`Scraping task created for ${seller.name}. ${asins.length} ASINs will be scraped.`);\n    } catch (error) {\n      console.error('Failed to create task:', error);\n      alert('Failed to create scraping task: ' + error.message);\n    }\n    setCreating(false);\n  };\n\n  const handleSellerChange = async (sellerId) => {\n    setSelectedSellerId(sellerId);\n    if (sellerId) {\n      await loadSellerAsins(sellerId);\n    } else {\n      setSellerAsins([]);\n    }\n  };\n\n  const handleViewResults = async (task) => {\n    setSelectedTask(task);\n    if (task.status === 'COMPLETED') {\n      try {\n        const response = await octoparseService.getTaskResults(task.executionId);\n        setResults(response.results);\n        setShowResults(true);\n      } catch (error) {\n        console.error('Failed to get results:', error);\n      }\n    }\n  };\n\n  const handleDeleteTask = async (task) => {\n    if (window.confirm('Are you sure you want to delete this task?')) {\n      await octoparseService.deleteScrapeTask(task.executionId);\n      loadTasks();\n    }\n  };\n\n  const kpis = [\n    { title: 'Total Tasks', value: tasks.length.toString(), icon: 'bi-list-task', trend: tasks.length, trendType: 'neutral' },\n    { title: 'Running', value: tasks.filter(t => t.status === 'RUNNING').length.toString(), icon: 'bi-gear', trend: 0, trendType: 'neutral' },\n    { title: 'Completed', value: tasks.filter(t => t.status === 'COMPLETED').length.toString(), icon: 'bi-check-circle', trend: tasks.filter(t => t.status === 'COMPLETED').length, trendType: 'positive' },\n    { title: 'Failed', value: tasks.filter(t => t.status === 'FAILED').length.toString(), icon: 'bi-x-circle', trend: tasks.filter(t => t.status === 'FAILED').length, trendType: 'negative' },\n  ];\n\n  const getStatusBadge = (status) => {\n    const map = {\n      'PENDING': { class: 'badge-secondary', icon: 'bi-clock' },\n      'RUNNING': { class: 'badge-primary', icon: 'bi-gear spin' },\n      'COMPLETED': { class: 'badge-success', icon: 'bi-check-circle' },\n      'FAILED': { class: 'badge-danger', icon: 'bi-x-circle' },\n    };\n    const { class: className, icon } = map[status] || { class: 'badge-secondary', icon: 'bi-question-circle' };\n    return (\n      <span className={`badge ${className}`}>\n        <i className={`bi ${icon} me-1`}></i>\n        {status}\n      </span>\n    );\n  };\n\n  const formatDate = (dateStr) => {\n    if (!dateStr) return '-';\n    return new Date(dateStr).toLocaleString();\n  };\n\n  if (loading) {\n    return (\n      <>\n        <header className=\"main-header\">\n          <h1 className=\"page-title\"><i className=\"bi bi-cloud-download\"></i>Scrape Tasks</h1>\n        </header>\n        <div className=\"page-content\">\n          <div className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '400px' }}>\n            <div className=\"loading-spinner\"></div>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <header className=\"main-header\">\n        <div className=\"d-flex justify-content-between align-items-center flex-wrap gap-3\">\n          <h1 className=\"page-title\"><i className=\"bi bi-cloud-download\"></i>Scrape Tasks</h1>\n          <button className=\"btn btn-primary\" onClick={() => setShowCreateModal(true)}>\n            <i className=\"bi bi-plus-lg me-2\"></i>Create Task\n          </button>\n        </div>\n      </header>\n      <div className=\"page-content\">\n        <div className=\"kpi-grid mb-4\" style={{ gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))' }}>\n          {kpis.map((kpi, idx) => (\n            <KPICard key={idx} title={kpi.title} value={kpi.value} icon={kpi.icon} trend={kpi.trend} trendType={kpi.trendType} />\n          ))}\n        </div>\n\n        <div className=\"card\">\n          <div className=\"card-header d-flex justify-content-between align-items-center\">\n            <h5 className=\"mb-0\"><i className=\"bi bi-list-task\"></i> All Scrape Tasks</h5>\n            <div className=\"d-flex gap-2\">\n              <button className=\"btn btn-outline-secondary btn-sm\" onClick={loadTasks}>\n                <i className=\"bi bi-arrow-repeat me-1\"></i>Refresh\n              </button>\n            </div>\n          </div>\n          <div className=\"card-body p-0\">\n            <div className=\"table-responsive\">\n              <table className=\"table data-table mb-0\">\n                <thead>\n                  <tr>\n                    <th>Task ID</th>\n                    <th>Seller</th>\n                    <th>ASINs</th>\n                    <th>Marketplace</th>\n                    <th>Type</th>\n                    <th>Status</th>\n                    <th>Progress</th>\n                    <th>Created</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {tasks.length === 0 ? (\n                    <tr>\n                      <td colSpan=\"9\" className=\"text-center text-muted py-4\">\n                        <i className=\"bi bi-inbox d-block mb-2\" style={{ fontSize: '24px' }}></i>\n                        No scrape tasks yet. Click \"Create Task\" to start scraping.\n                      </td>\n                    </tr>\n                  ) : (\n                    tasks.map(task => (\n                      <tr key={task.executionId}>\n                        <td className=\"fw-medium font-monospace\" style={{ fontSize: '0.85rem' }}>\n                          {task.executionId.substring(0, 16)}...\n                        </td>\n                        <td>\n                          <div className=\"d-flex align-items-center gap-2\">\n                            <div className=\"seller-avatar bg-primary-subtle text-primary rounded-circle d-flex align-items-center justify-content-center\" style={{ width: '28px', height: '28px', fontSize: '0.75rem', fontWeight: '600' }}>\n                              {(task.sellerName || 'S').charAt(0)}\n                            </div>\n                            <span>{task.sellerName || 'Unknown'}</span>\n                          </div>\n                        </td>\n                        <td>\n                          <span className=\"badge bg-info-subtle text-info\">{task.asinsCount || task.asins?.length || 0} ASINs</span>\n                        </td>\n                        <td>\n                          <span className=\"badge bg-primary-subtle text-primary\">{task.marketplace || '-'}</span>\n                        </td>\n                        <td>\n                          <span className={`badge ${task.scrapeType === 'all' ? 'bg-success-subtle text-success' : 'bg-warning-subtle text-warning'}`}>\n                            {task.scrapeType === 'all' ? 'All ASINs' : 'Pending Only'}\n                          </span>\n                        </td>\n                        <td>{getStatusBadge(task.status)}</td>\n                        <td>\n                          <div className=\"d-flex align-items-center gap-2\">\n                            <div className=\"progress flex-grow-1\" style={{ height: '8px', width: '100px' }}>\n                              <div \n                                className={`progress-bar ${task.status === 'FAILED' ? 'bg-danger' : ''}`}\n                                style={{ width: `${task.progress}%` }}\n                              ></div>\n                            </div>\n                            <span className=\"fs-sm\">{task.progress}%</span>\n                          </div>\n                        </td>\n                        <td className=\"text-muted fs-sm\">{formatDate(task.startedAt || task.createdAt)}</td>\n                        <td>\n                          <div className=\"d-flex gap-1\">\n                            {task.status === 'COMPLETED' && (\n                              <button \n                                className=\"btn btn-sm btn-outline-primary\"\n                                onClick={() => handleViewResults(task)}\n                                title=\"View Results\"\n                              >\n                                <i className=\"bi bi-eye\"></i>\n                              </button>\n                            )}\n                            {(task.status === 'PENDING' || task.status === 'RUNNING') && (\n                              <button \n                                className=\"btn btn-sm btn-outline-danger\"\n                                onClick={() => octoparseService.cancelScrapeTask(task.executionId).then(loadTasks)}\n                                title=\"Cancel\"\n                              >\n                                <i className=\"bi bi-x\"></i>\n                              </button>\n                            )}\n                            <button \n                              className=\"btn btn-sm btn-outline-secondary\"\n                              onClick={() => handleDeleteTask(task)}\n                              title=\"Delete\"\n                            >\n                              <i className=\"bi bi-trash\"></i>\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Create Task Modal */}\n      {showCreateModal && (\n        <div className=\"modal show d-block\" style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\n          <div className=\"modal-dialog\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\"><i className=\"bi bi-plus-circle me-2\"></i>Create Scrape Task</h5>\n                <button type=\"button\" className=\"btn-close\" onClick={() => { setShowCreateModal(false); setSelectedSellerId(''); setSellerAsins([]); }}></button>\n              </div>\n              <div className=\"modal-body\">\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">Select Seller *</label>\n                  <select \n                    className=\"form-select\"\n                    value={selectedSellerId}\n                    onChange={(e) => handleSellerChange(e.target.value)}\n                  >\n                    <option value=\"\">Choose a seller...</option>\n                    {sellers.filter(s => s.status === 'Active').map(seller => (\n                      <option key={seller._id} value={seller._id}>\n                        {seller.name} ({seller.marketplace})\n                      </option>\n                    ))}\n                  </select>\n                  <div className=\"form-text\">\n                    {sellers.filter(s => s.status === 'Active').length} active sellers available\n                  </div>\n                </div>\n                \n                {selectedSellerId && (\n                  <div className=\"mb-3\">\n                    <div className=\"alert alert-info\">\n                      <i className=\"bi bi-info-circle me-2\"></i>\n                      {(() => {\n                        const seller = sellers.find(s => s._id === selectedSellerId);\n                        return `${seller?.name} has ${sellerAsins.length} ASINs in the database`;\n                      })()}\n                    </div>\n                  </div>\n                )}\n                \n                <div className=\"mb-3\">\n                  <label className=\"form-label\">Scrape Type</label>\n                  <div className=\"d-flex gap-3\">\n                    <div className=\"form-check\">\n                      <input \n                        type=\"radio\" \n                        className=\"form-check-input\"\n                        id=\"scrapeAll\"\n                        name=\"scrapeType\"\n                        checked={scrapeType === 'all'}\n                        onChange={() => setScrapeType('all')}\n                      />\n                      <label className=\"form-check-label\" htmlFor=\"scrapeAll\">\n                        <i className=\"bi bi-box-seam me-1\"></i>All ASINs\n                      </label>\n                      <div className=\"form-text\">Scrape all ASINs for this seller</div>\n                    </div>\n                    <div className=\"form-check\">\n                      <input \n                        type=\"radio\" \n                        className=\"form-check-input\"\n                        id=\"scrapePending\"\n                        name=\"scrapeType\"\n                        checked={scrapeType === 'pending'}\n                        onChange={() => setScrapeType('pending')}\n                      />\n                      <label className=\"form-check-label\" htmlFor=\"scrapePending\">\n                        <i className=\"bi bi-clock me-1\"></i>Pending Only\n                      </label>\n                      <div className=\"form-text\">Only scrape ASINs not scraped recently</div>\n                    </div>\n                  </div>\n                </div>\n\n                {!sellers || sellers.filter(s => s.status === 'Active').length === 0 && (\n                  <div className=\"alert alert-warning\">\n                    <i className=\"bi bi-exclamation-triangle me-2\"></i>\n                    No active sellers found. Please add sellers first in the Sellers page.\n                    <a href=\"/sellers\" className=\"ms-2\">Go to Sellers</a>\n                  </div>\n                )}\n              </div>\n              <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={() => { setShowCreateModal(false); setSelectedSellerId(''); setSellerAsins([]); }}>Cancel</button>\n                <button \n                  className=\"btn btn-primary\" \n                  onClick={handleCreateTask}\n                  disabled={!selectedSellerId || creating || sellers.filter(s => s.status === 'Active').length === 0}\n                >\n                  {creating ? (\n                    <>\n                      <span className=\"spinner-border spinner-border-sm me-2\"></span>\n                      Creating...\n                    </>\n                  ) : (\n                    <>\n                      <i className=\"bi bi-cloud-arrow-down me-2\"></i>\n                      Start Scraping\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Results Modal */}\n      {showResults && selectedTask && (\n        <div className=\"modal show d-block\" style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\n          <div className=\"modal-dialog modal-lg\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\">Scrape Results - {selectedTask.executionId}</h5>\n                <button type=\"button\" className=\"btn-close\" onClick={() => setShowResults(false)}></button>\n              </div>\n              <div className=\"modal-body\">\n                <div className=\"table-responsive\">\n                  <table className=\"table data-table mb-0\">\n                    <thead>\n                      <tr>\n                        <th>ASIN</th>\n                        <th>Title</th>\n                        <th>Price</th>\n                        <th>Rating</th>\n                        <th>Reviews</th>\n                        <th>Rank</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {results.map((result, idx) => (\n                        <tr key={idx}>\n                          <td className=\"fw-medium\">{result.asin}</td>\n                          <td style={{ maxWidth: '200px', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                            {result.title}\n                          </td>\n                          <td>₹{result.price.toFixed(2)}</td>\n                          <td>{result.rating}</td>\n                          <td>{result.reviews.toLocaleString()}</td>\n                          <td>#{result.rank.toLocaleString()}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n              <div className=\"modal-footer\">\n                <button className=\"btn btn-outline-primary\" onClick={() => console.log('Import to ASIN Manager', results)}>\n                  <i className=\"bi bi-plus me-1\"></i>Import to ASIN Manager\n                </button>\n                <button className=\"btn btn-secondary\" onClick={() => setShowResults(false)}>Close</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ScrapeTasksPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8858, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/ActivityLog.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { db } from '../services/db';\nimport { Clock, Filter, Search, ArrowRight, User, CheckCircle, PlusCircle, Trash2, Edit3, ClipboardList } from 'lucide-react';\n\nconst ActivityLog = () => {\n    const [logs, setLogs] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [searchQuery, setSearchQuery] = useState('');\n    const [filterType, setFilterType] = useState('ALL');\n\n    useEffect(() => {\n        loadLogs();\n    }, []);\n\n    const loadLogs = async () => {\n        setLoading(true);\n        try {\n            const data = await db.getSystemLogs();\n            setLogs(data || []);\n        } catch (error) {\n            console.error('Failed to load logs', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const getTypeIcon = (type) => {\n        switch (type) {\n            case 'CREATE': return <PlusCircle size={16} className=\"text-success\" />;\n            case 'UPDATE': return <Edit3 size={16} className=\"text-primary\" />;\n            case 'DELETE': return <Trash2 size={16} className=\"text-danger\" />;\n            case 'STATUS_CHANGE': return <CheckCircle size={16} className=\"text-info\" />;\n            default: return <ClipboardList size={16} className=\"text-muted\" />;\n        }\n    };\n\n    const getEntityBadge = (type) => {\n        const styles = {\n            OBJECTIVE: 'bg-primary-subtle text-primary border-primary-subtle',\n            KR: 'bg-info-subtle text-info border-info-subtle',\n            ACTION: 'bg-warning-subtle text-warning border-warning-subtle',\n            SYSTEM: 'bg-secondary-subtle text-secondary border-secondary-subtle'\n        };\n        return (\n            <span className={`badge border ${styles[type] || styles.SYSTEM}`} style={{ fontSize: '10px' }}>\n                {type}\n            </span>\n        );\n    };\n\n    const formatTime = (dateString) => {\n        const date = new Date(dateString);\n        return date.toLocaleString(undefined, {\n            month: 'short',\n            day: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    };\n\n    const filteredLogs = logs.filter(log => {\n        const matchesSearch = searchQuery\n            ? log.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n            log.entityTitle?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n            log.user?.email?.toLowerCase().includes(searchQuery.toLowerCase())\n            : true;\n        const matchesType = filterType === 'ALL' || log.type === filterType;\n        return matchesSearch && matchesType;\n    });\n\n    return (\n        <div className=\"container-fluid py-4\">\n            <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                <div>\n                    <h4 className=\"fw-bold mb-1\">Activity Log</h4>\n                    <p className=\"text-muted small mb-0\">Monitor all strategy and execution changes across the organization</p>\n                </div>\n                <button onClick={loadLogs} className=\"btn btn-sm btn-outline-primary rounded-pill px-3\">\n                    Refresh Logs\n                </button>\n            </div>\n\n            <div className=\"card border-0 shadow-sm\" style={{ borderRadius: '16px' }}>\n                <div className=\"card-header bg-white border-0 pt-4 px-4\">\n                    <div className=\"row g-3\">\n                        <div className=\"col-md-8\">\n                            <div className=\"position-relative\">\n                                <Search className=\"position-absolute\" style={{ left: '12px', top: '50%', transform: 'translateY(-50%)', width: '16px', height: '16px', color: '#6b7280' }} />\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Search by description, title, or user...\"\n                                    value={searchQuery}\n                                    onChange={(e) => setSearchQuery(e.target.value)}\n                                    className=\"form-control ps-5 border-0 bg-light\"\n                                    style={{ borderRadius: '10px' }}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"col-md-4\">\n                            <select\n                                value={filterType}\n                                onChange={(e) => setFilterType(e.target.value)}\n                                className=\"form-select border-0 bg-light\"\n                                style={{ borderRadius: '10px' }}\n                            >\n                                <option value=\"ALL\">All Event Types</option>\n                                <option value=\"CREATE\">Creation</option>\n                                <option value=\"UPDATE\">Updates</option>\n                                <option value=\"DELETE\">Deletions</option>\n                                <option value=\"STATUS_CHANGE\">Status Changes</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"card-body p-0 mt-3\">\n                    <div className=\"table-responsive\">\n                        <table className=\"table table-hover align-middle mb-0\">\n                            <thead className=\"bg-light text-muted small text-uppercase\">\n                                <tr>\n                                    <th className=\"ps-4\" style={{ width: '180px' }}>Timestamp</th>\n                                    <th style={{ width: '100px' }}>Event</th>\n                                    <th style={{ width: '120px' }}>Entity</th>\n                                    <th>Activity Description</th>\n                                    <th style={{ width: '200px' }}>Initiated By</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {loading ? (\n                                    <tr>\n                                        <td colSpan=\"5\" className=\"text-center py-5\">\n                                            <div className=\"spinner-border spinner-border-sm text-primary me-2\"></div>\n                                            Loading activities...\n                                        </td>\n                                    </tr>\n                                ) : filteredLogs.length === 0 ? (\n                                    <tr>\n                                        <td colSpan=\"5\" className=\"text-center py-5 text-muted\">\n                                            No logs found matching your filters\n                                        </td>\n                                    </tr>\n                                ) : (\n                                    filteredLogs.map((log) => (\n                                        <tr key={log._id}>\n                                            <td className=\"ps-4\">\n                                                <div className=\"d-flex align-items-center text-muted small\">\n                                                    <Clock size={12} className=\"me-2\" />\n                                                    {formatTime(log.createdAt)}\n                                                </div>\n                                            </td>\n                                            <td>\n                                                <div className=\"d-flex align-items-center gap-2 small\">\n                                                    {getTypeIcon(log.type)}\n                                                    <span>{log.type.replace('_', ' ')}</span>\n                                                </div>\n                                            </td>\n                                            <td>\n                                                {getEntityBadge(log.entityType)}\n                                            </td>\n                                            <td>\n                                                <div className=\"fw-semibold small\">{log.entityTitle}</div>\n                                                <div className=\"text-muted small text-truncate\" style={{ maxWidth: '400px' }}>\n                                                    {log.description}\n                                                </div>\n                                            </td>\n                                            <td>\n                                                <div className=\"d-flex align-items-center gap-2\">\n                                                    <div className=\"avatar-initial bg-light text-dark border rounded-circle\" style={{ width: '24px', height: '24px', fontSize: '10px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                                                        {(log.user?.firstName || 'U').charAt(0)}\n                                                    </div>\n                                                    <div className=\"small\">\n                                                        <div className=\"fw-bold lh-1\">{log.user?.firstName || 'System'}</div>\n                                                        <div className=\"text-muted\" style={{ fontSize: '10px' }}>{log.user?.email || ''}</div>\n                                                    </div>\n                                                </div>\n                                            </td>\n                                        </tr>\n                                    ))\n                                )}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <div className=\"card-footer bg-white border-0 py-3 text-center\">\n                    <button className=\"btn btn-sm btn-link text-muted text-decoration-none small\">\n                        View Full History (Max 100)\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ActivityLog;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9472, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/GoalAchievementReport.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { db } from '../services/db';\nimport {\n    BarChart2,\n    CheckCircle,\n    Clock,\n    AlertTriangle,\n    ArrowLeft,\n    Download,\n    Calendar,\n    User,\n    TrendingUp,\n    Target\n} from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\n\nconst GoalAchievementReport = () => {\n    const [data, setData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        fetchReport();\n    }, []);\n\n    const fetchReport = async () => {\n        try {\n            setLoading(true);\n            const response = await db.getGoalAchievementReport();\n            if (response && response.success) {\n                setData(response.data);\n            }\n        } catch (error) {\n            console.error(\"Failed to fetch achievement report:\", error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"d-flex justify-content-center align-items-center vh-100 bg-light\">\n                <div className=\"text-center\">\n                    <div className=\"spinner-border text-primary mb-3\" role=\"status\"></div>\n                    <div className=\"text-muted small fw-medium\">Analyzing Performance...</div>\n                </div>\n            </div>\n        );\n    }\n\n    const { metrics = [], summary = {} } = data || {};\n\n    return (\n        <div className=\"p-4 bg-light min-vh-100\">\n            {/* Header */}\n            <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                <div>\n                    <button\n                        onClick={() => navigate('/actions')}\n                        className=\"btn btn-link p-0 text-muted mb-2 d-flex align-items-center gap-1 text-decoration-none small\"\n                    >\n                        <ArrowLeft size={14} /> Back to Actions\n                    </button>\n                    <h1 className=\"h3 fw-bold mb-0\">Goal vs Achievement Analysis</h1>\n                    <p className=\"text-muted small\">Task performance and timing metrics overview</p>\n                </div>\n                <button className=\"btn btn-outline-primary btn-sm d-flex align-items-center gap-2\">\n                    <Download size={16} /> Export Report\n                </button>\n            </div>\n\n            {/* Stats Overview */}\n            <div className=\"row g-3 mb-4\">\n                <div className=\"col-md-3\">\n                    <div className=\"card border-0 shadow-sm h-100 overflow-hidden\">\n                        <div className=\"card-body p-3\">\n                            <div className=\"d-flex justify-content-between align-items-start mb-2\">\n                                <div className=\"p-2 bg-primary-subtle text-primary rounded-3\">\n                                    <Target size={20} />\n                                </div>\n                                <span className=\"badge bg-success-subtle text-success border-success-subtle\">Success Rate</span>\n                            </div>\n                            <h3 className=\"fw-bold mb-1\">{summary.totalCompleted > 0 ? Math.round((summary.onTime / summary.totalCompleted) * 100) : 0}%</h3>\n                            <p className=\"text-muted small mb-0\">Completed On Time</p>\n                        </div>\n                        <div className=\"bg-primary opacity-10 position-absolute\" style={{ bottom: '-10px', right: '-10px', width: '60px', height: '60px', borderRadius: '50%' }}></div>\n                    </div>\n                </div>\n                <div className=\"col-md-3\">\n                    <div className=\"card border-0 shadow-sm h-100 overflow-hidden\">\n                        <div className=\"card-body p-3\">\n                            <div className=\"d-flex justify-content-between align-items-start mb-2\">\n                                <div className=\"p-2 bg-success-subtle text-success rounded-3\">\n                                    <CheckCircle size={20} />\n                                </div>\n                            </div>\n                            <h3 className=\"fw-bold mb-1\">{summary.totalCompleted}</h3>\n                            <p className=\"text-muted small mb-0\">Total Completed Actions</p>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-3\">\n                    <div className=\"card border-0 shadow-sm h-100 overflow-hidden\">\n                        <div className=\"card-body p-3\">\n                            <div className=\"d-flex justify-content-between align-items-start mb-2\">\n                                <div className=\"p-2 bg-warning-subtle text-warning rounded-3\">\n                                    <Clock size={20} />\n                                </div>\n                            </div>\n                            <h3 className=\"fw-bold mb-1\">{summary.avgDuration}h</h3>\n                            <p className=\"text-muted small mb-0\">Average Completion Time</p>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-3\">\n                    <div className=\"card border-0 shadow-sm h-100 overflow-hidden\">\n                        <div className=\"card-body p-3\">\n                            <div className=\"d-flex justify-content-between align-items-start mb-2\">\n                                <div className=\"p-2 bg-danger-subtle text-danger rounded-3\">\n                                    <AlertTriangle size={20} />\n                                </div>\n                            </div>\n                            <h3 className=\"fw-bold mb-1\">{summary.overdue}</h3>\n                            <p className=\"text-muted small mb-0\">Overdue completions</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Main Table */}\n            <div className=\"card border-0 shadow-sm overflow-hidden\">\n                <div className=\"card-header bg-white py-3\">\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <h5 className=\"mb-0 fw-bold\">Task Performance Metrics</h5>\n                        <div className=\"d-flex gap-2\">\n                            <select className=\"form-select form-select-sm border-0 bg-light\">\n                                <option>Last 30 Days</option>\n                                <option>All Time</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"card-body p-0\">\n                    <div className=\"table-responsive\">\n                        <table className=\"table table-hover align-middle mb-0\" style={{ fontSize: '13px' }}>\n                            <thead className=\"table-light\">\n                                <tr>\n                                    <th className=\"ps-4\">Action Details</th>\n                                    <th>Assignee</th>\n                                    <th>Plan vs Actual</th>\n                                    <th>Duration</th>\n                                    <th>Variance</th>\n                                    <th className=\"pe-4 text-end\">Status</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {metrics.map((m, idx) => (\n                                    <tr key={m.id || idx}>\n                                        <td className=\"ps-4\">\n                                            <div className=\"fw-bold text-dark\">{m.title}</div>\n                                            <div className=\"text-muted small d-flex align-items-center gap-1 mt-1\">\n                                                <Calendar size={12} />\n                                                Started: {new Date(m.startedAt).toLocaleDateString()}\n                                            </div>\n                                        </td>\n                                        <td>\n                                            <div className=\"d-flex align-items-center gap-2\">\n                                                <div className=\"avatar-initial bg-primary-subtle text-primary rounded-circle small\" style={{ width: '24px', height: '24px', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '10px' }}>\n                                                    {m.assignee.charAt(0)}\n                                                </div>\n                                                <span>{m.assignee}</span>\n                                            </div>\n                                        </td>\n                                        <td>\n                                            <div className=\"d-flex flex-column gap-1\" style={{ maxWidth: '120px' }}>\n                                                <div className=\"text-muted smallest\" style={{ fontSize: '10px' }}>\n                                                    Plan: {m.plannedDuration || '--'}h\n                                                </div>\n                                                <div className=\"progress\" style={{ height: '4px' }}>\n                                                    <div\n                                                        className={`progress-bar ${m.isOverdue ? 'bg-danger' : 'bg-success'}`}\n                                                        style={{ width: m.plannedDuration ? `${Math.min((m.actualDuration / m.plannedDuration) * 100, 100)}%` : '100%' }}\n                                                    ></div>\n                                                </div>\n                                                <div className=\"smallest fw-bold\" style={{ fontSize: '10px' }}>\n                                                    Actual: {m.actualDuration}h\n                                                </div>\n                                            </div>\n                                        </td>\n                                        <td>\n                                            <div className=\"fw-medium\">{m.actualDuration}h</div>\n                                        </td>\n                                        <td>\n                                            <span className={`fw-bold ${m.variance > 0 ? 'text-danger' : m.variance < 0 ? 'text-success' : 'text-muted'}`}>\n                                                {m.variance > 0 ? `+${m.variance}` : m.variance || 0}h\n                                            </span>\n                                        </td>\n                                        <td className=\"pe-4 text-end\">\n                                            {m.isOverdue ? (\n                                                <span className=\"badge bg-danger-subtle text-danger border-danger-subtle\">\n                                                    Overdue\n                                                </span>\n                                            ) : (\n                                                <span className=\"badge bg-success-subtle text-success border-success-subtle\">\n                                                    On Time\n                                                </span>\n                                            )}\n                                        </td>\n                                    </tr>\n                                ))}\n                                {metrics.length === 0 && (\n                                    <tr>\n                                        <td colSpan=\"6\" className=\"text-center py-5 text-muted\">\n                                            <TrendingUp className=\"mb-2 opacity-25\" size={32} />\n                                            <div>No performance data available yet</div>\n                                        </td>\n                                    </tr>\n                                )}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default GoalAchievementReport;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10319, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/RevenueCalculatorPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport DataTable from '../components/DataTable';\nimport KPICard from '../components/KPICard';\nimport ResultsPage from '../components/ResultsPage';\nimport FeesPage from '../components/FeesPage';\nimport { db } from '../services/db';\n\n// --- Helper: Robust CSV Parser ---\nconst parseCSV = (text) => {\n  const rows = [];\n  let currentRow = [];\n  let currentVal = '';\n  let insideQuotes = false;\n\n  const cleanedText = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n\n  for (let i = 0; i < cleanedText.length; i++) {\n    const char = cleanedText[i];\n    const nextChar = cleanedText[i + 1];\n\n    if (char === '\"') {\n      if (insideQuotes && nextChar === '\"') {\n        currentVal += '\"';\n        i++;\n      } else {\n        insideQuotes = !insideQuotes;\n      }\n    } else if (char === ',' && !insideQuotes) {\n      currentRow.push(currentVal.trim());\n      currentVal = '';\n    } else if (char === '\\n' && !insideQuotes) {\n      currentRow.push(currentVal.trim());\n      if (currentRow.length > 0 && (currentRow.length > 1 || currentRow[0] !== '')) {\n        rows.push(currentRow);\n      }\n      currentRow = [];\n      currentVal = '';\n    } else {\n      currentVal += char;\n    }\n  }\n  if (currentVal || currentRow.length > 0) {\n    currentRow.push(currentVal.trim());\n    rows.push(currentRow);\n  }\n  return rows;\n};\n\n// --- Dashboard View Component ---\nconst DashboardView = ({ asins, onNavigate }) => {\n  const [showSettings, setShowSettings] = useState(false);\n  const [keepaKey, setKeepaKey] = useState(db.getKeepaKey());\n\n  const saveSettings = () => {\n    db.saveKeepaKey(keepaKey);\n    setShowSettings(false);\n    alert('Settings Saved');\n  };\n\n  // Ensure asins is always an array\n  const asinList = Array.isArray(asins) ? asins : [];\n\n  const stats = {\n    total: asinList.length,\n    processed: asinList.filter(a => a.status === 'calculated').length,\n    errors: asinList.filter(a => a.status === 'error').length,\n    avgMargin: 0\n  };\n\n  const calculatedItems = asinList.filter(a => a.status === 'calculated' && a.marginPercent !== undefined);\n  if (calculatedItems.length > 0) {\n    const sum = calculatedItems.reduce((acc, curr) => acc + (curr.marginPercent || 0), 0);\n    stats.avgMargin = sum / calculatedItems.length;\n  }\n\n  const kpis = [\n    { title: 'Total Inventory', value: stats.total.toString(), icon: 'bi-box', trend: 0, trendType: 'neutral' },\n    { title: 'Calculated ASINs', value: stats.processed.toString(), icon: 'bi-calculator', trend: 0, trendType: 'neutral' },\n    { title: 'Average Margin', value: `${stats.avgMargin.toFixed(1)}%`, icon: 'bi-currency-rupee', trend: 0, trendType: stats.avgMargin > 0 ? 'positive' : 'negative' },\n    { title: 'Issues Found', value: stats.errors.toString(), icon: 'bi-exclamation-triangle', trend: 0, trendType: 'negative' },\n  ];\n\n  return (\n    <>\n      <header className=\"main-header\">\n        <h1 className=\"page-title\"><i className=\"bi bi-calculator\"></i>Revenue Calculator Dashboard</h1>\n      </header>\n      <div className=\"page-content\">\n        {/* API Settings Toggle */}\n        <div className=\"d-flex justify-content-between align-items-center mb-4\">\n          <div className=\"d-flex gap-2\">\n            <button\n              className=\"btn btn-outline-secondary btn-sm\"\n              onClick={() => setShowSettings(!showSettings)}\n            >\n              <i className=\"bi bi-gear me-2\"></i>\n              {showSettings ? 'Hide Settings' : 'API Configuration'}\n            </button>\n          </div>\n        </div>\n\n        {/* API Settings Panel */}\n        {showSettings && (\n          <div className=\"card mb-4\" style={{ backgroundColor: '#f8fafc' }}>\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <div className=\"col-md-6\">\n                  <h5 className=\"card-title\">External Integrations</h5>\n                  <p className=\"text-muted small\">Configure APIs used for live pricing and historical data.</p>\n                  <div className=\"mb-3\">\n                    <label className=\"form-label\">Keepa API Key</label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      value={keepaKey}\n                      onChange={(e) => setKeepaKey(e.target.value)}\n                      placeholder=\"Enter your Keepa API key\"\n                    />\n                  </div>\n                  <button className=\"btn btn-primary\" onClick={saveSettings}>\n                    <i className=\"bi bi-check me-2\"></i>Save Configuration\n                  </button>\n                </div>\n                <div className=\"col-md-6\">\n                  <div className=\"alert alert-info\">\n                    <i className=\"bi bi-info-circle me-2\"></i>\n                    <strong>Security Note:</strong> API keys are stored locally in your browser. A valid Keepa subscription is required for real-time data access.\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* KPI Cards */}\n        <div className=\"kpi-grid mb-4\">\n          {kpis.map((kpi, idx) => (\n            <KPICard key={idx} title={kpi.title} value={kpi.value} icon={kpi.icon} trend={kpi.trend} trendType={kpi.trendType} />\n          ))}\n        </div>\n\n        {/* Quick Actions */}\n        <div className=\"row g-3 mb-4\">\n          <div className=\"col-md-3\">\n            <div className=\"card h-100\">\n              <div className=\"card-body text-center\">\n                <i className=\"bi bi-upload fs-1 text-primary\"></i>\n                <h5 className=\"card-title mt-3\">Bulk Import</h5>\n                <p className=\"text-muted small\">Add ASINs via CSV or manual entry</p>\n                <button className=\"btn btn-primary btn-sm\" onClick={() => onNavigate('upload')}>\n                  <i className=\"bi bi-plus me-1\"></i>Import ASINs\n                </button>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-3\">\n            <div className=\"card h-100\">\n              <div className=\"card-body text-center\">\n                <i className=\"bi bi-table fs-1 text-success\"></i>\n                <h5 className=\"card-title mt-3\">Analysis Results</h5>\n                <p className=\"text-muted small\">View profitability calculations</p>\n                <button className=\"btn btn-success btn-sm\" onClick={() => onNavigate('results')}>\n                  <i className=\"bi bi-eye me-1\"></i>View Results\n                </button>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-3\">\n            <div className=\"card h-100\">\n              <div className=\"card-body text-center\">\n                <i className=\"bi bi-currency-rupee fs-1 text-warning\"></i>\n                <h5 className=\"card-title mt-3\">Fee Configuration</h5>\n                <p className=\"text-muted small\">Manage Amazon fee settings</p>\n                <button className=\"btn btn-warning btn-sm\" onClick={() => onNavigate('fees')}>\n                  <i className=\"bi bi-sliders me-1\"></i>Configure Fees\n                </button>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-3\">\n            <div className=\"card h-100\">\n              <div className=\"card-body text-center\">\n                <i className=\"bi bi-arrow-repeat fs-1 text-info\"></i>\n                <h5 className=\"card-title mt-3\">Recalculate</h5>\n                <p className=\"text-muted small\">Refresh all profit calculations</p>\n                <button className=\"btn btn-info btn-sm\" onClick={() => window.location.reload()}>\n                  <i className=\"bi bi-arrow-clockwise me-1\"></i>Refresh All\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Recent ASINs Table */}\n        <DataTable\n          title=\"Recent ASINs\"\n          data={asinList.slice(0, 10)}\n          columns={['asin', 'stapleLevel', 'status', 'marginPercent', 'createdAt']}\n          searchable={true}\n          sortable={true}\n          customRenderers={{\n            status: (item) => {\n              const statusMap = {\n                'pending': { class: 'badge-secondary', label: 'Pending' },\n                'calculated': { class: 'badge-success', label: 'Calculated' },\n                'error': { class: 'badge-danger', label: 'Error' },\n                'processing': { class: 'badge-primary', label: 'Processing' },\n              };\n              const { class: className, label } = statusMap[item.status] || { class: 'badge-secondary', label: item.status };\n              return <span className={`badge ${className}`}>{label}</span>;\n            },\n            marginPercent: (item) => {\n              const margin = item.marginPercent;\n              if (margin === undefined) return '-';\n              const colorClass = margin >= 0 ? 'text-success' : 'text-danger';\n              return <span className={colorClass}>{margin.toFixed(1)}%</span>;\n            },\n          }}\n          actions={[\n            { label: 'View', icon: 'bi-eye', className: 'btn-sm', onClick: (item) => console.log('View', item) },\n            { label: 'Recalculate', icon: 'bi-arrow-repeat', className: 'btn-sm btn-outline-secondary', onClick: (item) => console.log('Recalculate', item) },\n          ]}\n        />\n      </div>\n    </>\n  );\n};\n\n// --- Upload Page Component ---\nconst UploadPage = ({ onUploadComplete, onNavigate }) => {\n  const [rawText, setRawText] = useState('');\n  const [stapleLevel, setStapleLevel] = useState('Standard');\n  const fileRef = useRef(null);\n\n  const handleUploadText = async () => {\n    const asinList = rawText.split(/[\\n,]+/).map(s => s.trim().toUpperCase()).filter(s => s.length > 0);\n    if (asinList.length === 0) return;\n    await db.addAsinsBulk(asinList.map(a => ({ asin: a, stapleLevel })));\n    setRawText('');\n    onUploadComplete();\n    onNavigate('results');\n  };\n\n  const handleFileUpload = (e) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = async (evt) => {\n      const text = evt.target?.result;\n      const rows = parseCSV(text);\n\n      const newAsins = [];\n      rows.forEach(parts => {\n        const asin = parts[0]?.trim().toUpperCase();\n        if (!asin || asin.toLowerCase() === 'asin') return;\n        let sLevel = stapleLevel;\n        if (parts[1]) {\n          const val = parts[1].trim().toLowerCase();\n          if (val === 'heavy') sLevel = 'Heavy';\n          else if (val === 'oversize') sLevel = 'Oversize';\n        }\n        newAsins.push({ asin, stapleLevel: sLevel });\n      });\n      if (newAsins.length > 0) {\n        await db.addAsinsBulk(newAsins);\n        onUploadComplete();\n        onNavigate('results');\n      }\n    };\n    reader.readAsText(file);\n    if (fileRef.current) fileRef.current.value = '';\n  };\n\n  return (\n    <>\n      <header className=\"main-header\">\n        <h1 className=\"page-title\"><i className=\"bi bi-upload\"></i>Bulk Import ASINs</h1>\n      </header>\n      <div className=\"page-content\">\n        <div className=\"row g-4\">\n          {/* Manual Entry */}\n          <div className=\"col-lg-6\">\n            <div className=\"card h-100\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\"><i className=\"bi bi-pencil me-2\"></i>Manual ASIN Entry</h5>\n                <p className=\"text-muted small\">Enter ASINs one per line</p>\n\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">ASIN List</label>\n                  <textarea\n                    className=\"form-control font-monospace\"\n                    rows=\"9\"\n                    placeholder=\"B08N5KWB9H&#10;B07XJ8C8F5&#10;B09XYZ1234\"\n                    value={rawText}\n                    onChange={(e) => setRawText(e.target.value)}\n                  />\n                </div>\n\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">Default Size Tier</label>\n                  <select\n                    className=\"form-select\"\n                    value={stapleLevel}\n                    onChange={(e) => setStapleLevel(e.target.value)}\n                  >\n                    <option value=\"Standard\">Standard Size</option>\n                    <option value=\"Oversize\">Oversize</option>\n                    <option value=\"Heavy\">Heavy & Bulky</option>\n                  </select>\n                </div>\n\n                <button\n                  className=\"btn btn-primary w-100\"\n                  onClick={handleUploadText}\n                  disabled={!rawText}\n                >\n                  <i className=\"bi bi-upload me-2\"></i>Process ASINs\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* File Upload */}\n          <div className=\"col-lg-6\">\n            <div className=\"card h-100\">\n              <div className=\"card-body d-flex flex-column justify-content-center align-items-center text-center\">\n                <i className=\"bi bi-file-earmark-spreadsheet fs-1 text-success\"></i>\n                <h5 className=\"card-title mt-3\">Upload CSV File</h5>\n                <p className=\"text-muted small\">Upload a CSV or TXT file containing ASINs</p>\n                <p className=\"font-monospace small text-muted\">Format: ASIN, SizeTier (optional)</p>\n\n                <input\n                  type=\"file\"\n                  accept=\".csv,.txt\"\n                  ref={fileRef}\n                  className=\"d-none\"\n                  onChange={handleFileUpload}\n                />\n\n                <button\n                  className=\"btn btn-success\"\n                  onClick={() => fileRef.current?.click()}\n                >\n                  <i className=\"bi bi-folder2-open me-2\"></i>Browse Files\n                </button>\n\n                <p className=\"text-muted small mt-2 mb-0\">Maximum recommended size: 10,000 ASINs</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\n// --- Main Revenue Calculator Page Component ---\nconst RevenueCalculatorPage = () => {\n  const [currentPage, setCurrentPage] = useState('dashboard');\n  const [asins, setAsins] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadData = async () => {\n      const items = await db.getAsins();\n      // Ensure items is always an array\n      setAsins(Array.isArray(items) ? items : []);\n      setLoading(false);\n    };\n    loadData();\n  }, []);\n\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n  };\n\n  const handleUploadComplete = async () => {\n    const items = await db.getAsins();\n    setAsins(Array.isArray(items) ? items : []);\n  };\n\n  const renderPage = () => {\n    switch (currentPage) {\n      case 'dashboard':\n        return <DashboardView asins={asins} onNavigate={handlePageChange} />;\n      case 'upload':\n        return <UploadPage onUploadComplete={handleUploadComplete} onNavigate={handlePageChange} />;\n      case 'results':\n        return <ResultsPage asins={asins} onNavigate={handlePageChange} />;\n      case 'fees':\n        return <FeesPage />;\n      default:\n        return <DashboardView asins={asins} onNavigate={handlePageChange} />;\n    }\n  };\n\n  if (loading) {\n    return (\n      <>\n        <header className=\"main-header\">\n          <h1 className=\"page-title\"><i className=\"bi bi-calculator\"></i>Revenue Calculator</h1>\n        </header>\n        <div className=\"page-content\">\n          <div className=\"d-flex justify-content-center align-items-center\" style={{ minHeight: '400px' }}>\n            <div className=\"loading-spinner\"></div>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <header className=\"main-header\">\n        <h1 className=\"page-title\"><i className=\"bi bi-calculator\"></i>Revenue Calculator</h1>\n      </header>\n      <div className=\"page-content\">\n        {/* Quick Navigation */}\n        <div className=\"d-flex justify-content-between align-items-center mb-4\">\n          <div className=\"d-flex gap-2\">\n            {[\n              { id: 'dashboard', label: 'Dashboard', icon: 'bi-speedometer2' },\n              { id: 'upload', label: 'Bulk Upload', icon: 'bi-upload' },\n              { id: 'results', label: 'Results', icon: 'bi-table' },\n              { id: 'fees', label: 'Fees', icon: 'bi-currency-rupee' }\n            ].map((item) => (\n              <button\n                key={item.id}\n                onClick={() => handlePageChange(item.id)}\n                className={`btn ${currentPage === item.id ? 'btn-primary' : 'btn-outline-primary'} btn-sm`}\n              >\n                <i className={`${item.icon} me-1`}></i>\n                {item.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Page Content */}\n        {renderPage()}\n      </div>\n    </>\n  );\n};\n\nexport default RevenueCalculatorPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 11557, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/TemplateManagerPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { db } from '../services/db';\nimport {\n    Plus,\n    Edit2,\n    Trash2,\n    Search,\n    Clock,\n    AlertCircle,\n    Check,\n    X,\n    Loader2,\n    ChevronRight,\n    Tag,\n    Zap,\n    Sparkles\n} from 'lucide-react';\n\nconst TemplateManagerPage = () => {\n    const [templates, setTemplates] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [showModal, setShowModal] = useState(false);\n    const [currentTemplate, setCurrentTemplate] = useState(null);\n    const [isSubmitting, setIsSubmitting] = useState(false);\n\n    const [formData, setFormData] = useState({\n        title: '',\n        description: '',\n        type: 'GENERAL_OPTIMIZATION',\n        priority: 'MEDIUM',\n        category: 'Operations & General',\n        estimatedMinutes: 30\n    });\n\n    const categories = [\n        'SEO & Content',\n        'Sales & Marketing',\n        'Operations & General',\n        'PPC & Advertising',\n        'Compliance & Legal'\n    ];\n\n    const types = [\n        { value: 'TITLE_OPTIMIZATION', label: 'Title SEO' },\n        { value: 'A_PLUS_CONTENT', label: 'A+ Content' },\n        { value: 'PRICING_STRATEGY', label: 'Pricing' },\n        { value: 'INVENTORY_MANAGEMENT', label: 'Inventory' },\n        { value: 'GENERAL_OPTIMIZATION', label: 'General' },\n        { value: 'IMAGE_OPTIMIZATION', label: 'Images' },\n        { value: 'DESCRIPTION_OPTIMIZATION', label: 'Description' }\n    ];\n\n    const priorities = ['LOW', 'MEDIUM', 'HIGH', 'URGENT'];\n\n    const fetchTemplates = async () => {\n        setLoading(true);\n        try {\n            const res = await db.getTaskTemplates();\n            if (res && res.success) {\n                setTemplates(res.data);\n            }\n        } catch (error) {\n            console.error('Failed to fetch templates:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchTemplates();\n    }, []);\n\n    const handleOpenModal = (template = null) => {\n        if (template) {\n            setCurrentTemplate(template);\n            setFormData({\n                title: template.title || '',\n                description: template.description || '',\n                type: template.type || 'GENERAL_OPTIMIZATION',\n                priority: template.priority || 'MEDIUM',\n                category: template.category || 'Operations & General',\n                estimatedMinutes: template.estimatedMinutes || 30\n            });\n        } else {\n            setCurrentTemplate(null);\n            setFormData({\n                title: '',\n                description: '',\n                type: 'GENERAL_OPTIMIZATION',\n                priority: 'MEDIUM',\n                category: 'Operations & General',\n                estimatedMinutes: 30\n            });\n        }\n        setShowModal(true);\n    };\n\n    const handleCloseModal = () => {\n        setShowModal(false);\n        setCurrentTemplate(null);\n    };\n\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: name === 'estimatedMinutes' ? parseInt(value) || 0 : value\n        }));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setIsSubmitting(true);\n        try {\n            if (currentTemplate) {\n                await db.updateTemplate(currentTemplate._id, formData);\n            } else {\n                await db.createTemplate(formData);\n            }\n            await fetchTemplates();\n            handleCloseModal();\n        } catch (error) {\n            console.error('Failed to save template:', error);\n            alert('Failed to save template. Please try again.');\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    const handleDelete = async (id) => {\n        if (!window.confirm('Are you sure you want to delete this template?')) return;\n        try {\n            await db.deleteTemplate(id);\n            await fetchTemplates();\n        } catch (error) {\n            console.error('Failed to delete template:', error);\n            alert('Failed to delete template.');\n        }\n    };\n\n    const filteredTemplates = templates.filter(t =>\n        t.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        t.category.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    const getPriorityBadge = (p) => {\n        switch (p) {\n            case 'URGENT': return 'bg-soft-danger text-danger';\n            case 'HIGH': return 'bg-soft-warning text-warning';\n            case 'MEDIUM': return 'bg-soft-primary text-primary';\n            default: return 'bg-soft-secondary text-secondary';\n        }\n    };\n\n    return (\n        <div className=\"container-fluid py-4 min-vh-100 bg-light\">\n            {/* Header */}\n            <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                <div>\n                    <h3 className=\"fw-bold text-dark mb-1\">Task Templates</h3>\n                    <p className=\"text-muted small mb-0\">Manage reusable task definitions for your projects</p>\n                </div>\n                <button\n                    className=\"btn btn-primary d-flex align-items-center gap-2 shadow-sm\"\n                    onClick={() => handleOpenModal()}\n                >\n                    <Plus size={18} />\n                    New Template\n                </button>\n            </div>\n\n            {/* Stats & Search */}\n            <div className=\"row g-3 mb-4\">\n                <div className=\"col-md-8\">\n                    <div className=\"card border-0 shadow-sm h-100\">\n                        <div className=\"card-body p-3\">\n                            <div className=\"input-group\">\n                                <span className=\"input-group-text bg-white border-end-0\">\n                                    <Search size={18} className=\"text-muted\" />\n                                </span>\n                                <input\n                                    type=\"text\"\n                                    className=\"form-control border-start-0 ps-0\"\n                                    placeholder=\"Search by title or category...\"\n                                    value={searchTerm}\n                                    onChange={(e) => setSearchTerm(e.target.value)}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-4\">\n                    <div className=\"card border-0 shadow-sm h-100 bg-primary text-white overflow-hidden\">\n                        <div className=\"card-body p-3 position-relative\">\n                            <div className=\"d-flex align-items-center gap-3\">\n                                <div className=\"p-2 bg-white bg-opacity-25 rounded-3\">\n                                    <Zap size={24} />\n                                </div>\n                                <div>\n                                    <h4 className=\"fw-bold mb-0\">{templates.length}</h4>\n                                    <div className=\"small opacity-75\">Active Templates</div>\n                                </div>\n                            </div>\n                            <Sparkles className=\"position-absolute end-0 bottom-0 opacity-10 m-2\" size={48} />\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Template List */}\n            <div className=\"card border-0 shadow-sm overflow-hidden\">\n                <div className=\"table-responsive\">\n                    <table className=\"table table-hover align-middle mb-0\">\n                        <thead className=\"bg-white\">\n                            <tr>\n                                <th className=\"px-4 py-3 text-uppercase small fw-bold text-muted border-0\">Template</th>\n                                <th className=\"py-3 text-uppercase small fw-bold text-muted border-0\">Category</th>\n                                <th className=\"py-3 text-uppercase small fw-bold text-muted border-0\">Type</th>\n                                <th className=\"py-3 text-uppercase small fw-bold text-muted border-0\">Priority</th>\n                                <th className=\"py-3 text-uppercase small fw-bold text-muted border-0 text-end px-4\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"bg-white\">\n                            {loading ? (\n                                <tr>\n                                    <td colSpan=\"5\" className=\"text-center py-5\">\n                                        <Loader2 className=\"animate-spin text-primary\" size={32} />\n                                    </td>\n                                </tr>\n                            ) : filteredTemplates.length === 0 ? (\n                                <tr>\n                                    <td colSpan=\"5\" className=\"text-center py-5 text-muted\">\n                                        No templates found.\n                                    </td>\n                                </tr>\n                            ) : (\n                                filteredTemplates.map(t => (\n                                    <tr key={t._id}>\n                                        <td className=\"px-4 py-3\">\n                                            <div className=\"fw-bold text-dark\">{t.title}</div>\n                                            <div className=\"small text-muted text-truncate\" style={{ maxWidth: '300px' }}>\n                                                {t.description}\n                                            </div>\n                                        </td>\n                                        <td className=\"py-3\">\n                                            <span className=\"badge bg-light text-dark border small\">\n                                                {t.category}\n                                            </span>\n                                        </td>\n                                        <td className=\"py-3\">\n                                            <div className=\"d-flex align-items-center gap-2 small text-muted\">\n                                                <Tag size={14} />\n                                                {t.type}\n                                            </div>\n                                        </td>\n                                        <td className=\"py-3\">\n                                            <span className={`badge rounded-pill small ${getPriorityBadge(t.priority)}`}>\n                                                {t.priority}\n                                            </span>\n                                        </td>\n                                        <td className=\"py-3 text-end px-4\">\n                                            <div className=\"d-flex justify-content-end gap-2\">\n                                                <button\n                                                    className=\"btn btn-icon btn-sm btn-soft-primary\"\n                                                    onClick={() => handleOpenModal(t)}\n                                                >\n                                                    <Edit2 size={16} />\n                                                </button>\n                                                <button\n                                                    className=\"btn btn-icon btn-sm btn-soft-danger\"\n                                                    onClick={() => handleDelete(t._id)}\n                                                >\n                                                    <Trash2 size={16} />\n                                                </button>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                ))\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n\n            {/* Modal */}\n            {showModal && (\n                <div className=\"modal fade show d-block\" style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\n                    <div className=\"modal-dialog modal-dialog-centered\">\n                        <div className=\"modal-content border-0 shadow\">\n                            <div className=\"modal-header border-bottom px-4\">\n                                <h5 className=\"modal-title fw-bold\">\n                                    {currentTemplate ? 'Edit Template' : 'New Task Template'}\n                                </h5>\n                                <button onClick={handleCloseModal} className=\"btn-close shadow-none\"></button>\n                            </div>\n                            <form onSubmit={handleSubmit}>\n                                <div className=\"modal-body p-4\">\n                                    <div className=\"mb-3\">\n                                        <label className=\"form-label small fw-bold text-muted\">Title</label>\n                                        <input\n                                            type=\"text\"\n                                            className=\"form-control\"\n                                            name=\"title\"\n                                            value={formData.title}\n                                            onChange={handleInputChange}\n                                            required\n                                        />\n                                    </div>\n                                    <div className=\"mb-3\">\n                                        <label className=\"form-label small fw-bold text-muted\">Description</label>\n                                        <textarea\n                                            className=\"form-control\"\n                                            rows=\"3\"\n                                            name=\"description\"\n                                            value={formData.description}\n                                            onChange={handleInputChange}\n                                            required\n                                        ></textarea>\n                                    </div>\n                                    <div className=\"row g-3 mb-3\">\n                                        <div className=\"col-md-6\">\n                                            <label className=\"form-label small fw-bold text-muted\">Category</label>\n                                            <select\n                                                className=\"form-select\"\n                                                name=\"category\"\n                                                value={formData.category}\n                                                onChange={handleInputChange}\n                                            >\n                                                {categories.map(c => <option key={c} value={c}>{c}</option>)}\n                                            </select>\n                                        </div>\n                                        <div className=\"col-md-6\">\n                                            <label className=\"form-label small fw-bold text-muted\">Type</label>\n                                            <select\n                                                className=\"form-select\"\n                                                name=\"type\"\n                                                value={formData.type}\n                                                onChange={handleInputChange}\n                                            >\n                                                {types.map(t => <option key={t.value} value={t.value}>{t.label}</option>)}\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div className=\"row g-3\">\n                                        <div className=\"col-md-6\">\n                                            <label className=\"form-label small fw-bold text-muted\">Priority</label>\n                                            <select\n                                                className=\"form-select\"\n                                                name=\"priority\"\n                                                value={formData.priority}\n                                                onChange={handleInputChange}\n                                            >\n                                                {priorities.map(p => <option key={p} value={p}>{p}</option>)}\n                                            </select>\n                                        </div>\n                                        <div className=\"col-md-6\">\n                                            <label className=\"form-label small fw-bold text-muted\">Estimated Minutes</label>\n                                            <div className=\"input-group\">\n                                                <input\n                                                    type=\"number\"\n                                                    className=\"form-control\"\n                                                    name=\"estimatedMinutes\"\n                                                    value={formData.estimatedMinutes}\n                                                    onChange={handleInputChange}\n                                                />\n                                                <span className=\"input-group-text bg-light small\"><Clock size={14} /></span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"modal-footer border-top px-4 py-3\">\n                                    <button type=\"button\" className=\"btn btn-light px-4\" onClick={handleCloseModal}>Cancel</button>\n                                    <button\n                                        type=\"submit\"\n                                        className=\"btn btn-primary px-4 d-flex align-items-center gap-2\"\n                                        disabled={isSubmitting}\n                                    >\n                                        {isSubmitting ? <Loader2 className=\"animate-spin\" size={18} /> : (currentTemplate ? <Check size={18} /> : <Plus size={18} />)}\n                                        {currentTemplate ? 'Update Template' : 'Create Template'}\n                                    </button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            <style>{`\n                .bg-soft-primary { background-color: #e7f1ff; }\n                .bg-soft-success { background-color: #d1e7dd; }\n                .bg-soft-warning { background-color: #fff3cd; }\n                .bg-soft-danger { background-color: #f8d7da; }\n                .bg-soft-secondary { background-color: #f8f9fa; }\n                \n                .btn-soft-primary { color: #0d6efd; background-color: #e7f1ff; border: none; }\n                .btn-soft-primary:hover { color: white; background-color: #0d6efd; }\n                \n                .btn-soft-danger { color: #dc3545; background-color: #f8d7da; border: none; }\n                .btn-soft-danger:hover { color: white; background-color: #dc3545; }\n                \n                .btn-icon { width: 32px; height: 32px; padding: 0; display: flex; align-items: center; justify-content: center; }\n                \n                .animate-spin { animation: spin 1s linear infinite; }\n                @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\n            `}</style>\n        </div>\n    );\n};\n\nexport default TemplateManagerPage;\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;AAgBA,MAAM,sBAAsB;;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IAEjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;QACrC,OAAO;QACP,aAAa;QACb,MAAM;QACN,UAAU;QACV,UAAU;QACV,kBAAkB;IACtB;IAEA,MAAM,aAAa;QACf;QACA;QACA;QACA;QACA;KACH;IAED,MAAM,QAAQ;QACV;YAAE,OAAO;YAAsB,OAAO;QAAY;QAClD;YAAE,OAAO;YAAkB,OAAO;QAAa;QAC/C;YAAE,OAAO;YAAoB,OAAO;QAAU;QAC9C;YAAE,OAAO;YAAwB,OAAO;QAAY;QACpD;YAAE,OAAO;YAAwB,OAAO;QAAU;QAClD;YAAE,OAAO;YAAsB,OAAO;QAAS;QAC/C;YAAE,OAAO;YAA4B,OAAO;QAAc;KAC7D;IAED,MAAM,aAAa;QAAC;QAAO;QAAU;QAAQ;KAAS;IAEtD,MAAM,iBAAiB;QACnB,WAAW;QACX,IAAI;YACA,MAAM,MAAM,MAAM,8HAAE,CAAC,gBAAgB;YACrC,IAAI,OAAO,IAAI,OAAO,EAAE;gBACpB,aAAa,IAAI,IAAI;YACzB;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,8BAA8B;QAChD,SAAU;YACN,WAAW;QACf;IACJ;IAEA,IAAA,0KAAS;yCAAC;YACN;QACJ;wCAAG,EAAE;IAEL,MAAM,kBAAkB,CAAC,WAAW,IAAI;QACpC,IAAI,UAAU;YACV,mBAAmB;YACnB,YAAY;gBACR,OAAO,SAAS,KAAK,IAAI;gBACzB,aAAa,SAAS,WAAW,IAAI;gBACrC,MAAM,SAAS,IAAI,IAAI;gBACvB,UAAU,SAAS,QAAQ,IAAI;gBAC/B,UAAU,SAAS,QAAQ,IAAI;gBAC/B,kBAAkB,SAAS,gBAAgB,IAAI;YACnD;QACJ,OAAO;YACH,mBAAmB;YACnB,YAAY;gBACR,OAAO;gBACP,aAAa;gBACb,MAAM;gBACN,UAAU;gBACV,UAAU;gBACV,kBAAkB;YACtB;QACJ;QACA,aAAa;IACjB;IAEA,MAAM,mBAAmB;QACrB,aAAa;QACb,mBAAmB;IACvB;IAEA,MAAM,oBAAoB,CAAC;QACvB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAA,OAAQ,CAAC;gBACjB,GAAG,IAAI;gBACP,CAAC,KAAK,EAAE,SAAS,qBAAqB,SAAS,UAAU,IAAI;YACjE,CAAC;IACL;IAEA,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,gBAAgB;QAChB,IAAI;YACA,IAAI,iBAAiB;gBACjB,MAAM,8HAAE,CAAC,cAAc,CAAC,gBAAgB,GAAG,EAAE;YACjD,OAAO;gBACH,MAAM,8HAAE,CAAC,cAAc,CAAC;YAC5B;YACA,MAAM;YACN;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,MAAM;QACV,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,MAAM,eAAe,OAAO;QACxB,IAAI,CAAC,OAAO,OAAO,CAAC,mDAAmD;QACvE,IAAI;YACA,MAAM,8HAAE,CAAC,cAAc,CAAC;YACxB,MAAM;QACV,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,MAAM;QACV;IACJ;IAEA,MAAM,oBAAoB,UAAU,MAAM,CAAC,CAAA,IACvC,EAAE,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OACrD,EAAE,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;IAG5D,MAAM,mBAAmB,CAAC;QACtB,OAAQ;YACJ,KAAK;gBAAU,OAAO;YACtB,KAAK;gBAAQ,OAAO;YACpB,KAAK;gBAAU,OAAO;YACtB;gBAAS,OAAO;QACpB;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;;0CACG,6LAAC;gCAAG,WAAU;0CAAyB;;;;;;0CACvC,6LAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAEzC,6LAAC;wBACG,WAAU;wBACV,SAAS,IAAM;;0CAEf,6LAAC,6MAAI;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;0BAM1B,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAK,WAAU;sDACZ,cAAA,6LAAC,mNAAM;gDAAC,MAAM;gDAAI,WAAU;;;;;;;;;;;sDAEhC,6LAAC;4CACG,MAAK;4CACL,WAAU;4CACV,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAMjE,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAI,WAAU;0DACX,cAAA,6LAAC,0MAAG;oDAAC,MAAM;;;;;;;;;;;0DAEf,6LAAC;;kEACG,6LAAC;wDAAG,WAAU;kEAAgB,UAAU,MAAM;;;;;;kEAC9C,6LAAC;wDAAI,WAAU;kEAAmB;;;;;;;;;;;;;;;;;;kDAG1C,6LAAC,yNAAQ;wCAAC,WAAU;wCAAkD,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAO5F,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC;wBAAM,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CACb,cAAA,6LAAC;;sDACG,6LAAC;4CAAG,WAAU;sDAA6D;;;;;;sDAC3E,6LAAC;4CAAG,WAAU;sDAAwD;;;;;;sDACtE,6LAAC;4CAAG,WAAU;sDAAwD;;;;;;sDACtE,6LAAC;4CAAG,WAAU;sDAAwD;;;;;;sDACtE,6LAAC;4CAAG,WAAU;sDAAsE;;;;;;;;;;;;;;;;;0CAG5F,6LAAC;gCAAM,WAAU;0CACZ,wBACG,6LAAC;8CACG,cAAA,6LAAC;wCAAG,SAAQ;wCAAI,WAAU;kDACtB,cAAA,6LAAC,+NAAO;4CAAC,WAAU;4CAA4B,MAAM;;;;;;;;;;;;;;;+EAG7D,kBAAkB,MAAM,KAAK,kBAC7B,6LAAC;8CACG,cAAA,6LAAC;wCAAG,SAAQ;wCAAI,WAAU;kDAA8B;;;;;;;;;;+EAK5D,kBAAkB,GAAG,CAAC,CAAA,kBAClB,6LAAC;;0DACG,6LAAC;gDAAG,WAAU;;kEACV,6LAAC;wDAAI,WAAU;kEAAqB,EAAE,KAAK;;;;;;kEAC3C,6LAAC;wDAAI,WAAU;wDAAiC,OAAO;4DAAE,UAAU;wDAAQ;kEACtE,EAAE,WAAW;;;;;;;;;;;;0DAGtB,6LAAC;gDAAG,WAAU;0DACV,cAAA,6LAAC;oDAAK,WAAU;8DACX,EAAE,QAAQ;;;;;;;;;;;0DAGnB,6LAAC;gDAAG,WAAU;0DACV,cAAA,6LAAC;oDAAI,WAAU;;sEACX,6LAAC,0MAAG;4DAAC,MAAM;;;;;;wDACV,EAAE,IAAI;;;;;;;;;;;;0DAGf,6LAAC;gDAAG,WAAU;0DACV,cAAA,6LAAC;oDAAK,WAAW,CAAC,yBAAyB,EAAE,iBAAiB,EAAE,QAAQ,GAAG;8DACtE,EAAE,QAAQ;;;;;;;;;;;0DAGnB,6LAAC;gDAAG,WAAU;0DACV,cAAA,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;4DACG,WAAU;4DACV,SAAS,IAAM,gBAAgB;sEAE/B,cAAA,6LAAC,8MAAK;gEAAC,MAAM;;;;;;;;;;;sEAEjB,6LAAC;4DACG,WAAU;4DACV,SAAS,IAAM,aAAa,EAAE,GAAG;sEAEjC,cAAA,6LAAC,uNAAM;gEAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;uCAnCrB,EAAE,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;YAgDrC,2BACG,6LAAC;gBAAI,WAAU;gBAA0B,OAAO;oBAAE,iBAAiB;gBAAkB;0BACjF,cAAA,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAG,WAAU;kDACT,kBAAkB,kBAAkB;;;;;;kDAEzC,6LAAC;wCAAO,SAAS;wCAAkB,WAAU;;;;;;;;;;;;0CAEjD,6LAAC;gCAAK,UAAU;;kDACZ,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAM,WAAU;kEAAsC;;;;;;kEACvD,6LAAC;wDACG,MAAK;wDACL,WAAU;wDACV,MAAK;wDACL,OAAO,SAAS,KAAK;wDACrB,UAAU;wDACV,QAAQ;;;;;;;;;;;;0DAGhB,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAM,WAAU;kEAAsC;;;;;;kEACvD,6LAAC;wDACG,WAAU;wDACV,MAAK;wDACL,MAAK;wDACL,OAAO,SAAS,WAAW;wDAC3B,UAAU;wDACV,QAAQ;;;;;;;;;;;;0DAGhB,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAI,WAAU;;0EACX,6LAAC;gEAAM,WAAU;0EAAsC;;;;;;0EACvD,6LAAC;gEACG,WAAU;gEACV,MAAK;gEACL,OAAO,SAAS,QAAQ;gEACxB,UAAU;0EAET,WAAW,GAAG,CAAC,CAAA,kBAAK,6LAAC;wEAAe,OAAO;kFAAI;uEAAd;;;;;;;;;;;;;;;;kEAG1C,6LAAC;wDAAI,WAAU;;0EACX,6LAAC;gEAAM,WAAU;0EAAsC;;;;;;0EACvD,6LAAC;gEACG,WAAU;gEACV,MAAK;gEACL,OAAO,SAAS,IAAI;gEACpB,UAAU;0EAET,MAAM,GAAG,CAAC,CAAA,kBAAK,6LAAC;wEAAqB,OAAO,EAAE,KAAK;kFAAG,EAAE,KAAK;uEAAjC,EAAE,KAAK;;;;;;;;;;;;;;;;;;;;;;0DAIhD,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAI,WAAU;;0EACX,6LAAC;gEAAM,WAAU;0EAAsC;;;;;;0EACvD,6LAAC;gEACG,WAAU;gEACV,MAAK;gEACL,OAAO,SAAS,QAAQ;gEACxB,UAAU;0EAET,WAAW,GAAG,CAAC,CAAA,kBAAK,6LAAC;wEAAe,OAAO;kFAAI;uEAAd;;;;;;;;;;;;;;;;kEAG1C,6LAAC;wDAAI,WAAU;;0EACX,6LAAC;gEAAM,WAAU;0EAAsC;;;;;;0EACvD,6LAAC;gEAAI,WAAU;;kFACX,6LAAC;wEACG,MAAK;wEACL,WAAU;wEACV,MAAK;wEACL,OAAO,SAAS,gBAAgB;wEAChC,UAAU;;;;;;kFAEd,6LAAC;wEAAK,WAAU;kFAAkC,cAAA,6LAAC,gNAAK;4EAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kDAK/E,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAO,MAAK;gDAAS,WAAU;gDAAqB,SAAS;0DAAkB;;;;;;0DAChF,6LAAC;gDACG,MAAK;gDACL,WAAU;gDACV,UAAU;;oDAET,6BAAe,6LAAC,+NAAO;wDAAC,WAAU;wDAAe,MAAM;;;;;mGAAU,gCAAkB,6LAAC,gNAAK;wDAAC,MAAM;;;;;iHAAS,6LAAC,6MAAI;wDAAC,MAAM;;;;;;oDACrH,kBAAkB,oBAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BASnE,6LAAC;0BAAO,CAAC;;;;;;;;;;;;;;;;;YAiBT,CAAC;;;;;;;;;;;;AAGb;GAtYM;KAAA;uCAwYS"}},
    {"offset": {"line": 12580, "column": 0}, "map": {"version":3,"sources":["file:///Users/jenilrupapara/Easysell%20Projects/GMS%20Report/gms-dashboard/src/pages/TasksOperationsPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { db } from '../services/db';\nimport { Plus, Search, Filter, Play, FileText, CheckCircle, Clock, Check, X as CloseIcon, ThumbsUp, ThumbsDown } from 'lucide-react';\nimport ActionModal from '../components/actions/ActionModal';\nimport CompletionModal from '../components/actions/CompletionModal';\nimport ReviewModal from '../components/actions/ReviewModal';\nimport { useNavigate } from 'react-router-dom';\n\nconst TasksOperationsPage = () => {\n    const [actions, setActions] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [searchQuery, setSearchQuery] = useState('');\n    const [filterStatus, setFilterStatus] = useState('');\n    const [isActionModalOpen, setIsActionModalOpen] = useState(false);\n    const [isCompletionModalOpen, setIsCompletionModalOpen] = useState(false);\n    const [editingAction, setEditingAction] = useState(null);\n    const [completingAction, setCompletingAction] = useState(null);\n    const [reviewingAction, setReviewingAction] = useState(null);\n    const [isReviewModalOpen, setIsReviewModalOpen] = useState(false);\n    const [users, setUsers] = useState([]);\n    const [asins, setAsins] = useState([]);\n    const navigate = useNavigate();\n    const currentUser = db.getUser();\n\n    const loadTasks = async () => {\n        setLoading(true);\n        try {\n            const res = await db.getActions();\n            if (res && res.success) {\n                setActions(res.data);\n            }\n\n            // Fetch Users & ASINs\n            const usersRes = await db.getUsers();\n            if (usersRes && usersRes.success !== false) setUsers(Array.isArray(usersRes) ? usersRes : usersRes.data || []);\n\n            const asinsRes = await db.getAsins();\n            if (asinsRes && asinsRes.success !== false) setAsins(Array.isArray(asinsRes) ? asinsRes : asinsRes.asins || asinsRes.data || []);\n        } catch (err) {\n            console.error(\"Failed to load tasks:\", err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        loadTasks();\n    }, []);\n\n    const filteredActions = actions.filter(action => {\n        const matchesStatus = filterStatus ? action.status === filterStatus : true;\n        const matchesSearch = searchQuery\n            ? action.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n            action.description?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n            action.sellerId?.name?.toLowerCase().includes(searchQuery.toLowerCase())\n            : true;\n        return matchesStatus && matchesSearch;\n    });\n\n    const handleEditAction = (action) => {\n        setEditingAction(action);\n        setIsActionModalOpen(true);\n    };\n\n    const handleSaveAction = async (data) => {\n        try {\n            if (data._id || data.id) {\n                await db.updateAction(data._id || data.id, data);\n            } else {\n                await db.createAction(data);\n            }\n            setIsActionModalOpen(false);\n            loadTasks();\n        } catch (error) {\n            console.error('Failed to save action', error);\n        }\n    };\n\n    const handleStartTask = async (action) => {\n        const id = action?._id || action?.id || action;\n        try {\n            setLoading(true);\n            await db.startAction(id);\n            loadTasks();\n        } catch (err) {\n            console.error(\"Failed to start task:\", err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleSubmitForReview = (action) => {\n        setCompletingAction(action);\n        setIsCompletionModalOpen(true);\n    };\n\n    const handleCompletionSubmit = async (actionId, data) => {\n        try {\n            setLoading(true);\n            if (data.stage === 'REVIEW') {\n                await db.submitActionForReview(actionId, data);\n            } else {\n                await db.completeAction(actionId, data);\n            }\n            setIsCompletionModalOpen(false);\n            setCompletingAction(null);\n            loadTasks();\n        } catch (err) {\n            console.error(\"Failed to process task completion:\", err);\n            alert(\"Action failed. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleReviewAction = async (action, decision, comments) => {\n        if (!action) return;\n\n        try {\n            setLoading(true);\n            await db.reviewAction(action._id || action.id, { decision, comments });\n            await loadTasks();\n            return true;\n        } catch (error) {\n            console.error('Failed to review action:', error);\n            alert('Review failed. Please try again.');\n            throw error;\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const openReviewModal = (action) => {\n        setReviewingAction(action);\n        setIsReviewModalOpen(true);\n    };\n\n    const getStatusDot = (status) => {\n        if (status === 'COMPLETED') return <span className=\"status-dot status-dot-green\"></span>;\n        if (status === 'IN_PROGRESS') return <span className=\"status-dot status-dot-yellow\"></span>;\n        if (status === 'REVIEW') return <span className=\"status-dot status-dot-purple\"></span>;\n        if (status === 'PENDING') return <span className=\"status-dot status-dot-gray\"></span>;\n        return <span className=\"status-dot status-dot-red\"></span>;\n    };\n\n    return (\n        <div className=\"container-fluid p-4\">\n            <header className=\"d-flex justify-content-between align-items-center mb-4\">\n                <div>\n                    <h1 className=\"fw-bold h2 mb-1\">Task Operations</h1>\n                    <p className=\"text-muted small\">Flat execution view for all tactical actions</p>\n                </div>\n                <button\n                    className=\"btn btn-primary rounded-pill px-4 d-flex align-items-center gap-2\"\n                    onClick={() => { setEditingAction(null); setIsActionModalOpen(true); }}\n                >\n                    <Plus size={18} /> Create Task\n                </button>\n            </header>\n\n            <div className=\"card border-0 shadow-sm mb-4\" style={{ borderRadius: '16px' }}>\n                <div className=\"card-body\">\n                    <div className=\"row g-3\">\n                        <div className=\"col-md-8\">\n                            <div className=\"position-relative\">\n                                <Search className=\"position-absolute\" style={{ left: '12px', top: '50%', transform: 'translateY(-50%)', width: '16px', height: '16px', color: '#6b7280' }} />\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Search tasks, sellers, or descriptions...\"\n                                    value={searchQuery}\n                                    onChange={(e) => setSearchQuery(e.target.value)}\n                                    className=\"form-control ps-5 border-0 bg-light\"\n                                    style={{ borderRadius: '10px' }}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"col-md-4\">\n                            <select\n                                value={filterStatus}\n                                onChange={(e) => setFilterStatus(e.target.value)}\n                                className=\"form-select border-0 bg-light\"\n                                style={{ borderRadius: '10px' }}\n                            >\n                                <option value=\"\">All Statuses</option>\n                                <option value=\"PENDING\">Pending</option>\n                                <option value=\"IN_PROGRESS\">In Progress</option>\n                                <option value=\"REVIEW\">Review</option>\n                                <option value=\"COMPLETED\">Completed</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"card border-0 shadow-sm overflow-hidden\" style={{ borderRadius: '16px' }}>\n                <div className=\"card-body p-0\">\n                    <div className=\"table-responsive\">\n                        <table className=\"table table-hover align-middle mb-0\" style={{ fontSize: '13px' }}>\n                            <thead className=\"table-light text-muted text-uppercase\" style={{ fontSize: '11px', letterSpacing: '0.05em' }}>\n                                <tr>\n                                    <th className=\"ps-4\">Action</th>\n                                    <th>Type</th>\n                                    <th>Seller</th>\n                                    <th>Linked ASINs</th>\n                                    <th>Assignee</th>\n                                    <th>Status</th>\n                                    <th className=\"text-end pe-4\">Activity</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {loading ? (\n                                    <tr>\n                                        <td colSpan=\"7\" className=\"text-center py-5\">\n                                            <div className=\"spinner-border spinner-border-sm text-primary\"></div>\n                                        </td>\n                                    </tr>\n                                ) : filteredActions.length > 0 ? (\n                                    filteredActions.map(action => (\n                                        <tr key={action._id} onClick={() => handleEditAction(action)} style={{ cursor: 'pointer' }}>\n                                            <td className=\"ps-4\">\n                                                <div className=\"d-flex align-items-center gap-2\">\n                                                    {getStatusDot(action.status)}\n                                                    <span className=\"fw-bold text-dark\">{action.title}</span>\n                                                </div>\n                                                <div className=\"text-muted smallest mt-1 text-truncate\" style={{ maxWidth: '250px' }}>\n                                                    {action.description}\n                                                </div>\n                                            </td>\n                                            <td>\n                                                <span className=\"badge bg-secondary-subtle text-secondary border-secondary-subtle capitalize\">\n                                                    {action.type?.toLowerCase().replace('_', ' ')}\n                                                </span>\n                                            </td>\n                                            <td>\n                                                <div className=\"fw-medium\">{action.sellerId?.name || '--'}</div>\n                                                <div className=\"smallest text-muted\">{action.sellerId?.marketplace}</div>\n                                            </td>\n                                            <td>\n                                                <div className=\"d-flex flex-wrap gap-1\">\n                                                    {action.asins?.slice(0, 3).map((asin, i) => (\n                                                        <span key={asin._id || asin.id || i} className=\"badge bg-light text-dark border fw-normal\" style={{ fontSize: '10px' }}>\n                                                            {asin.asinCode || asin.asin || asin}\n                                                        </span>\n                                                    ))}\n                                                    {action.asins?.length > 3 && <span className=\"text-muted small\">+{action.asins.length - 3}</span>}\n                                                    {(!action.asins || action.asins.length === 0) && '--'}\n                                                </div>\n                                            </td>\n                                            <td>\n                                                <div className=\"d-flex align-items-center gap-2\">\n                                                    <div className=\"avatar-initial bg-primary-subtle text-primary rounded-circle small\" style={{ width: '24px', height: '24px', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '10px' }}>\n                                                        {(action.assignedTo?.firstName || 'U').charAt(0)}\n                                                    </div>\n                                                    <span>{action.assignedTo?.firstName ? `${action.assignedTo.firstName} ${action.assignedTo.lastName}` : 'Unassigned'}</span>\n                                                </div>\n                                            </td>\n                                            <td>\n                                                <span className={`badge ${action.status === 'COMPLETED' ? 'bg-success-subtle text-success' :\n                                                    action.status === 'IN_PROGRESS' ? 'bg-primary-subtle text-primary' :\n                                                        action.status === 'REVIEW' ? 'bg-info-subtle text-info' :\n                                                            'bg-warning-subtle text-warning-emphasis'\n                                                    }`}>\n                                                    {action.status?.replace('_', ' ')}\n                                                </span>\n                                            </td>\n                                            <td className=\"text-end pe-4\">\n                                                <div className=\"d-flex gap-2 justify-content-end\">\n                                                    {action.status === 'PENDING' && (\n                                                        <button\n                                                            className=\"btn btn-sm btn-outline-primary rounded-circle\"\n                                                            title=\"Start Task\"\n                                                            onClick={(e) => { e.stopPropagation(); handleStartTask(action); }}\n                                                        >\n                                                            <Play size={14} />\n                                                        </button>\n                                                    )}\n                                                    {action.status === 'IN_PROGRESS' && (\n                                                        <button\n                                                            className=\"btn btn-sm btn-outline-info rounded-circle\"\n                                                            title=\"Submit for Review\"\n                                                            onClick={(e) => { e.stopPropagation(); handleSubmitForReview(action); }}\n                                                        >\n                                                            <FileText size={14} />\n                                                        </button>\n                                                    )}\n                                                    {action.status === 'REVIEW' && (\n                                                        <>\n                                                            {/* Admin can review all, Manager can review if not owner */}\n                                                            {((currentUser?.role === 'admin' || currentUser?.role?.name === 'admin') ||\n                                                                ((currentUser?.role === 'manager' || currentUser?.role?.name === 'manager') &&\n                                                                    (action.assignedTo?._id || action.assignedTo) !== currentUser?._id)) && (\n                                                                    <>\n                                                                        <button\n                                                                            className=\"btn btn-sm btn-outline-success rounded-circle\"\n                                                                            title=\"Approve\"\n                                                                            onClick={(e) => { e.stopPropagation(); openReviewModal(action); }}\n                                                                        >\n                                                                            <ThumbsUp size={14} />\n                                                                        </button>\n                                                                        <button\n                                                                            className=\"btn btn-sm btn-outline-danger rounded-circle\"\n                                                                            title=\"Reject\"\n                                                                            onClick={(e) => { e.stopPropagation(); openReviewModal(action); }}\n                                                                        >\n                                                                            <ThumbsDown size={14} />\n                                                                        </button>\n                                                                    </>\n                                                                )}\n                                                        </>\n                                                    )}\n                                                    <button className=\"btn btn-sm btn-icon btn-light rounded-circle\" onClick={(e) => { e.stopPropagation(); handleEditAction(action); }} title=\"Edit\">\n                                                        <Plus size={14} style={{ transform: 'rotate(45deg)' }} />\n                                                    </button>\n                                                </div>\n                                            </td>\n                                        </tr>\n                                    ))\n                                ) : (\n                                    <tr>\n                                        <td colSpan=\"7\" className=\"text-center py-5 text-muted\">\n                                            No tasks found matching your filters.\n                                        </td>\n                                    </tr>\n                                )}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n\n            <ActionModal\n                isOpen={isActionModalOpen}\n                onClose={() => { setIsActionModalOpen(false); setEditingAction(null); }}\n                onSave={handleSaveAction}\n                action={editingAction}\n                currentUser={currentUser}\n                asins={asins}\n                users={users}\n            />\n\n            <ReviewModal\n                isOpen={isReviewModalOpen}\n                action={reviewingAction}\n                onClose={() => {\n                    setIsReviewModalOpen(false);\n                    setReviewingAction(null);\n                }}\n                onReview={handleReviewAction}\n            />\n\n            {isCompletionModalOpen && completingAction && (\n                <CompletionModal\n                    isOpen={isCompletionModalOpen}\n                    action={completingAction}\n                    onClose={() => { setIsCompletionModalOpen(false); setCompletingAction(null); }}\n                    onComplete={handleCompletionSubmit}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default TasksOperationsPage;\n"],"names":[],"mappings":"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"}}]
}